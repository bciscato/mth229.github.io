<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MTH229 with Julia - 10&nbsp; Numeric integration with Julia</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./symbolic-math.html" rel="next">
<link href="./extrema.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./calculator.html">MTH229 notes</a></li><li class="breadcrumb-item"><a href="./integration.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Numeric integration with Julia</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">MTH229 with Julia</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/MTH229/mth229.github.io/tree/master/quarto/" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">MTH229 notes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./calculator.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Julia as a calculator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Functions in Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graphing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Graphing functions with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zeros.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Solving for zeros with julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limits.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Investigating limits with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Approximate derivatives in Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./newton.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Newton’s method using julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./first-second-derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Exploring first and second derivatives with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extrema.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Maximization and minimization with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./integration.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Numeric integration with Julia</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">MTH232 and 233</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./symbolic-math.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">using SymPy with MTH 232, at CSI</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mth232.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Notes on MTH 232 and Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mth233.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Notes on MTH 233 and Julia</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">10.1</span> Introduction</a></li>
  <li><a href="#riemann-sums" id="toc-riemann-sums" class="nav-link" data-scroll-target="#riemann-sums"><span class="header-section-number">10.2</span> Riemann sums</a>
  <ul class="collapse">
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice"><span class="header-section-number">10.2.1</span> Practice</a></li>
  </ul></li>
  <li><a href="#integrate-function" id="toc-integrate-function" class="nav-link" data-scroll-target="#integrate-function"><span class="header-section-number">10.3</span> Integrate function</a>
  <ul class="collapse">
  <li><a href="#the-integrate-function-in-action" id="toc-the-integrate-function-in-action" class="nav-link" data-scroll-target="#the-integrate-function-in-action"><span class="header-section-number">10.3.1</span> The integrate function in action</a></li>
  <li><a href="#left-versus-right" id="toc-left-versus-right" class="nav-link" data-scroll-target="#left-versus-right"><span class="header-section-number">10.3.2</span> left versus right</a></li>
  <li><a href="#practice-1" id="toc-practice-1" class="nav-link" data-scroll-target="#practice-1"><span class="header-section-number">10.3.3</span> Practice</a></li>
  </ul></li>
  <li><a href="#improvements-to-the-rectangle-method" id="toc-improvements-to-the-rectangle-method" class="nav-link" data-scroll-target="#improvements-to-the-rectangle-method"><span class="header-section-number">10.4</span> Improvements to the rectangle method</a>
  <ul class="collapse">
  <li><a href="#trapezoid-and-simpsons-rule" id="toc-trapezoid-and-simpsons-rule" class="nav-link" data-scroll-target="#trapezoid-and-simpsons-rule"><span class="header-section-number">10.4.1</span> Trapezoid and Simpson’s rule</a></li>
  <li><a href="#simpsons-rule" id="toc-simpsons-rule" class="nav-link" data-scroll-target="#simpsons-rule"><span class="header-section-number">10.4.2</span> Simpson’s rule</a></li>
  <li><a href="#error" id="toc-error" class="nav-link" data-scroll-target="#error"><span class="header-section-number">10.4.3</span> Error</a></li>
  <li><a href="#practice-2" id="toc-practice-2" class="nav-link" data-scroll-target="#practice-2"><span class="header-section-number">10.4.4</span> Practice</a></li>
  </ul></li>
  <li><a href="#the-quadgk-function" id="toc-the-quadgk-function" class="nav-link" data-scroll-target="#the-quadgk-function"><span class="header-section-number">10.5</span> The quadgk function</a>
  <ul class="collapse">
  <li><a href="#practice-3" id="toc-practice-3" class="nav-link" data-scroll-target="#practice-3"><span class="header-section-number">10.5.1</span> Practice</a></li>
  </ul></li>
  <li><a href="#applications" id="toc-applications" class="nav-link" data-scroll-target="#applications"><span class="header-section-number">10.6</span> Applications</a>
  <ul class="collapse">
  <li><a href="#volume-as-a-function-of-radius." id="toc-volume-as-a-function-of-radius." class="nav-link" data-scroll-target="#volume-as-a-function-of-radius."><span class="header-section-number">10.6.1</span> Volume as a function of radius.</a></li>
  <li><a href="#practice-4" id="toc-practice-4" class="nav-link" data-scroll-target="#practice-4"><span class="header-section-number">10.6.2</span> Practice</a></li>
  </ul></li>
  <li><a href="#example-arc-length" id="toc-example-arc-length" class="nav-link" data-scroll-target="#example-arc-length"><span class="header-section-number">10.7</span> Example, arc length</a>
  <ul class="collapse">
  <li><a href="#example-the-catenary-shape" id="toc-example-the-catenary-shape" class="nav-link" data-scroll-target="#example-the-catenary-shape"><span class="header-section-number">10.7.1</span> Example: the catenary shape</a></li>
  <li><a href="#practice-5" id="toc-practice-5" class="nav-link" data-scroll-target="#practice-5"><span class="header-section-number">10.7.2</span> Practice</a></li>
  </ul></li>
  <li><a href="#gauss-quadrature-using-weights" id="toc-gauss-quadrature-using-weights" class="nav-link" data-scroll-target="#gauss-quadrature-using-weights"><span class="header-section-number">10.8</span> Gauss quadrature, Using weights</a>
  <ul class="collapse">
  <li><a href="#adaptive-integration" id="toc-adaptive-integration" class="nav-link" data-scroll-target="#adaptive-integration"><span class="header-section-number">10.8.1</span> Adaptive integration</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/MTH229/mth229.github.io/edit/master/quarto/integration.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/MTH229/mth229.github.io/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Numeric integration with Julia</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><br> A notebook for this material: <a href="https://raw.githubusercontent.com/mth229/229-projects/master/10-integration.ipynb">ipynb</a> <a href="./229-projects/10-integration.html">(Pluto html)</a> <a href="./229-projects/10-integration-pluto-commentary.html">(With commentary)</a></p>
<section id="introduction" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">10.1</span> Introduction</h2>
<p>Let <span class="math inline">\(f(x)\)</span> be some non-negative, continuous function over the interval <span class="math inline">\([a,b]\)</span>. The area under the graph of <span class="math inline">\(f(x)\)</span> is given by the definite integral:</p>
<p><span class="math display">\[
\text{Area under f} = \int_a^b f(x) dx
\]</span></p>
<p>Computing this area is <em>often</em> made easier with the Fundamental Theorem of Calculus which states in one form that one can compute a definite integral through knowledge of an antiderivative. In particular, if <span class="math inline">\(F(x)\)</span> is an antiderivative for <span class="math inline">\(f(x)\)</span>, a continuous function, then</p>
<p><span class="math display">\[
\int_a^b f(x) dx = F(b) - F(a).
\]</span></p>
<p>This is great as long as some antiderivative is known. There are several different techniques for finding antiderivatives. The <code>integrate</code> function in the <code>SymPy</code> package can do many of them:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">MTH229</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">3</span> <span class="op">-</span> <span class="fu">cos</span>(x) <span class="op">+</span> <span class="fu">x*log</span>(x)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="pp">@syms</span> x</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">integrate</span>(<span class="fu">f</span>(x), x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<span class="math-left-align" style="padding-left: 4px; width:0; float:left;"> 
\[
\frac{x^{4}}{4} + \frac{x^{2} \log{\left(x \right)}}{2} - \frac{x^{2}}{4} - \sin{\left(x \right)}
\]
</span>
</div>
</div>
<p>To find the definite integral, say from <span class="math inline">\(1\)</span> to <span class="math inline">\(10\)</span> we have:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">integrate</span>(<span class="fu">f</span>(x), (x, <span class="fl">1</span>, <span class="fl">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<span class="math-left-align" style="padding-left: 4px; width:0; float:left;"> 
\[
- \sin{\left(10 \right)} + \sin{\left(1 \right)} + 50 \log{\left(10 \right)} + 2475
\]
</span>
</div>
</div>
<p>If all functions had antiderivatives that could be found symbolically, there wouldn’t be much more to say. However, it is a fact of life that not all nice functions will have an antiderivative in a convenient form. A test for such functions is provided in <a href="http://en.wikipedia.org/wiki/Risch_algorithm">Risch’s algorithm</a>. In cases where no workable antiderivative is available, the above approach is of no help. Rather, to find the area one can turn to numeric approximations that progressively get better as more approximations are taken.</p>
<p>One such approximation is given by the familiar Riemann sums, which we will look at here. However, the problem of trying to find the area of geometric figures did not start with Riemann some 150 years ago, indeed it has a much longer history. In the time of Pythagorus the idea of calculating area was one of being able to construct a square of equal area to a figure. This was known as <em>quadrature</em>. Finding such answers for figures bounded by curves was difficult, though <a href="http://en.wikipedia.org/wiki/The_Quadrature_of_the_Parabola">Archimedes</a> effectively computed the area under <span class="math inline">\(f(x) = x^2\)</span> about 2,000 years before Riemann sums using triangles, not rectangles to approximate the area. By medieval Europe, the term <em>quadrature</em> evolved to be the computation of an area by any means. For example, <a href="http://en.wikipedia.org/wiki/Quadrature_(mathematics)">Galileo and Roberval</a> found the area bounded by a cycloid arch. Along the way, other approximations were used. We will see those due to Simpson and Gauss, both predating Riemann.</p>
</section>
<section id="riemann-sums" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="riemann-sums"><span class="header-section-number">10.2</span> Riemann sums</h2>
<p>In 1854 Riemann was the first to give a rigorous definition of the integral of a continuous function on a closed interval, the problem we wish to solve here, using the concept of a <em>Riemann sum</em>. A Riemann sum is one of the simplest to understand approximations to the area under a curve. The basic idea is that the interval <span class="math inline">\([a,b]\)</span> is partitioned through points <span class="math inline">\(a = x_0 &lt; x_1 &lt; \cdots x_n = b\)</span> and the area under <span class="math inline">\(f(x)\)</span> between <span class="math inline">\(x_i\)</span> and <span class="math inline">\(x_{i+1}\)</span> is approximated by a rectangle with the base <span class="math inline">\(x_{i+1} - x_i\)</span> and height given by <span class="math inline">\(f(x_i^*)\)</span>, where <span class="math inline">\(x_i^*\)</span> is some point in the interval <span class="math inline">\([x_i, x_{i+1}]\)</span>. Typical choices are the left point or the right point of the interval, or the <span class="math inline">\(x\)</span> value which minizes or maximizes <span class="math inline">\(f\)</span> over the interval. The figure shows these four choices for some sample function. For a <em>Riemann integrable</em> function, such as a continuous function on <span class="math inline">\([a,b]\)</span>, any of the choices will yield the same value as the partition’s mesh shrinks to <span class="math inline">\(0\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/integration/riemann_choice.png" class="img-fluid figure-img" alt="A simple Riemann partition"></p>
<figcaption class="figure-caption">Riemann</figcaption>
</figure>
</div>
<p>As with other limits, we can numerically approximate the limit by computing the Riemann sum for some partition. The steps for this include:</p>
<ul>
<li>creating a partition of <span class="math inline">\([a,b]\)</span>. We will use evenly spaced points for convenience.</li>
<li>Selecting the <span class="math inline">\(x_i^*\)</span> within the partition</li>
<li>Computing the values <span class="math inline">\(f(x_i^*)(x_{i+1} - x_i)\)</span> for each <span class="math inline">\(i\)</span></li>
<li>adding these values up</li>
</ul>
<p>If we partition <span class="math inline">\([a,b]\)</span> into <span class="math inline">\(n\)</span> same sized intervals, then each has length <span class="math inline">\(\delta = (b-a)/n\)</span> and so the points are separated by this amount. As such, we can choose our <span class="math inline">\(a = x_0 &lt; x_1 &lt; \dots &lt; x_n = b\)</span> with commands like:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>a, b, n <span class="op">=</span> <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>delta <span class="op">=</span> (b<span class="op">-</span>a)<span class="op">/</span>n;</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>xs <span class="op">=</span> a <span class="op">.+</span> (<span class="fl">0</span><span class="op">:</span>n) <span class="op">*</span> delta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>1.0:0.4:3.0</code></pre>
</div>
</div>
<p>To apply a function to a range of values, we may use a map, a comprehension, a <code>for</code> loop or the “dot” notation. We will use broadcasting here. Recall, the syntax:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>fxs <span class="op">=</span> <span class="fu">f</span>.(xs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>6-element Vector{Float64}:
 1.0
 1.9599999999999997
 3.24
 4.840000000000001
 6.760000000000001
 9.0</code></pre>
</div>
</div>
<p>Now to add the numbers up. For this task, the <code>sum</code> function is available</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(fxs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>26.8</code></pre>
</div>
</div>
<p>Okay, just one subtlety, we really only want the points</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>[ a <span class="op">.+</span> (<span class="fl">0</span><span class="op">:</span>n<span class="op">-</span><span class="fl">1</span>) <span class="op">*</span> delta ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>1-element Vector{StepRangeLen{Float64, Base.TwicePrecision{Float64}, Base.TwicePrecision{Float64}, Int64}}:
 1.0:0.4:2.6</code></pre>
</div>
</div>
<p>for the left Riemann sum and the points</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>[ a <span class="op">.+</span> (<span class="fl">1</span><span class="op">:</span>n) <span class="op">*</span> delta ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>1-element Vector{StepRangeLen{Float64, Base.TwicePrecision{Float64}, Base.TwicePrecision{Float64}, Int64}}:
 1.4:0.4:3.0</code></pre>
</div>
</div>
<p>for the right.</p>
<p>Putting this together, here are commands to approximate the area under the curve <span class="math inline">\(f(x)=x^2\)</span> using 10 left Riemann sums:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>a, b, n <span class="op">=</span> <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">10</span>;        <span class="co">## note n=10</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>delta <span class="op">=</span> (b <span class="op">-</span> a)<span class="op">/</span>n;         <span class="co">## nothing to change below here</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>xs <span class="op">=</span> a <span class="op">.+</span> (<span class="fl">0</span><span class="op">:</span>n<span class="op">-</span><span class="fl">1</span>) <span class="op">*</span> delta;          <span class="co">## n, right is 1:n * delta</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>fxs <span class="op">=</span> <span class="fu">f</span>.(xs);</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(fxs) <span class="op">*</span> delta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>7.88</code></pre>
</div>
</div>
<p>We compare this value to the known value from the Fundamental Theorem of Calculus, as <span class="math inline">\(F(x) = x^3/3\)</span> is an antiderivative:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">F</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">3</span><span class="op">/</span><span class="fl">3</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">F</span>(b) <span class="op">-</span> <span class="fu">F</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>8.666666666666666</code></pre>
</div>
</div>
<p>Boy, not too close. We need a better approximation of course. This can be achieved by using larger values for <code>n</code>.</p>
<section id="practice" class="level3" data-number="10.2.1">
<h3 data-number="10.2.1" class="anchored" data-anchor-id="practice"><span class="header-section-number">10.2.1</span> Practice</h3>
<section id="question" class="level4">
<h4 class="anchored" data-anchor-id="question">Question</h4>
<p>Repeat with n=100</p>
<p>For the same problem, let <span class="math inline">\(n=100\)</span>. What do you get?</p>
<div class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="14">
<script>
var ID = "cBYpBSGG"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="cBYpBSGG" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_cBYpBSGG" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="cBYpBSGG" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="cBYpBSGG_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_cBYpBSGG').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_cBYpBSGG')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("cBYpBSGG").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 8.5868) <= 0.0001);
  var msgBox = document.getElementById('cBYpBSGG_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_cBYpBSGG")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_cBYpBSGG")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-1" class="level4">
<h4 class="anchored" data-anchor-id="question-1">Question</h4>
<p>Repeat with n=1,000</p>
<p>For the same problem, let <span class="math inline">\(n=1000\)</span>. What do you get?</p>
<div class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="15">
<script>
var ID = "RFxB3WCd"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="RFxB3WCd" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_RFxB3WCd" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="RFxB3WCd" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="RFxB3WCd_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_RFxB3WCd').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_RFxB3WCd')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("RFxB3WCd").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 8.658668) <= 0.0001);
  var msgBox = document.getElementById('RFxB3WCd_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_RFxB3WCd")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_RFxB3WCd")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-2" class="level4">
<h4 class="anchored" data-anchor-id="question-2">Question</h4>
<p>Repeat with n=10,000</p>
<p>For the same problem, let <span class="math inline">\(n=10,000\)</span>. is the difference between the answer and the actual answer within <span class="math inline">\(0.001\)</span>?</p>
<div class="cell" data-execution_count="15">
<div class="cell-output cell-output-display" data-execution_count="16">
<script>
var ID = "iU9v16Pn"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="iU9v16Pn" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_iU9v16Pn" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_iU9v16Pn_1">
      <input class="form-check-input" type="radio" name="radio_iU9v16Pn" id="radio_iU9v16Pn_1" value="1">
      
      <span class="label-body px-1">
        true
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_iU9v16Pn_2">
      <input class="form-check-input" type="radio" name="radio_iU9v16Pn" id="radio_iU9v16Pn_2" value="2">
      
      <span class="label-body px-1">
        false
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="iU9v16Pn_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_iU9v16Pn').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_iU9v16Pn')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_iU9v16Pn"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 1;
    var msgBox = document.getElementById('iU9v16Pn_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_iU9v16Pn")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_iU9v16Pn")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
<section id="question-3" class="level4">
<h4 class="anchored" data-anchor-id="question-3">Question</h4>
<p>How big should n be? (Strang)</p>
<p>Let <span class="math inline">\(f(x) = (10 + \cos(2\pi x))^{-1}\)</span>. For the integral over <span class="math inline">\([0,1]\)</span>, the known answer is <span class="math inline">\(1/\sqrt{99}\)</span>. How big must <span class="math inline">\(n\)</span> be so that the error in the Riemann sum is less than <span class="math inline">\(10^{-8}\)</span>?</p>
<div class="cell" data-execution_count="16">
<div class="cell-output cell-output-display" data-execution_count="17">
<script>
var ID = "UX8yopqI"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="UX8yopqI" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_UX8yopqI" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_UX8yopqI_1">
      <input class="form-check-input" type="radio" name="radio_UX8yopqI" id="radio_UX8yopqI_1" value="1">
      
      <span class="label-body px-1">
        5
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_UX8yopqI_2">
      <input class="form-check-input" type="radio" name="radio_UX8yopqI" id="radio_UX8yopqI_2" value="2">
      
      <span class="label-body px-1">
        10
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_UX8yopqI_3">
      <input class="form-check-input" type="radio" name="radio_UX8yopqI" id="radio_UX8yopqI_3" value="3">
      
      <span class="label-body px-1">
        100
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_UX8yopqI_4">
      <input class="form-check-input" type="radio" name="radio_UX8yopqI" id="radio_UX8yopqI_4" value="4">
      
      <span class="label-body px-1">
        10000
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_UX8yopqI_5">
      <input class="form-check-input" type="radio" name="radio_UX8yopqI" id="radio_UX8yopqI_5" value="5">
      
      <span class="label-body px-1">
        1000
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="UX8yopqI_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_UX8yopqI').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_UX8yopqI')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_UX8yopqI"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('UX8yopqI_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_UX8yopqI")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_UX8yopqI")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
</section>
</section>
<section id="integrate-function" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="integrate-function"><span class="header-section-number">10.3</span> Integrate function</h2>
<p>Here we write a function to do the integration. This needs the basic inputs of</p>
<ul>
<li>a function,</li>
<li>the interval’s start and end value, and</li>
<li>the number of equal-sized subintervals.</li>
</ul>
<p>In addition, we allow for the possibility of using different methods to approximate the area over a sub interval. Different possibilities are:</p>
<ul>
<li>using a rectangle with the left endpoint to determine the height (<code>method="left"</code>)</li>
<li>using a rectangle with the right endpoint to determine the height (<code>method="right"</code>)</li>
<li>using a trapezoid formed by joining the left and right endpoints (<code>method="trapezoid"</code>)</li>
<li>making the cap a quadratic polynomial that goes through the left and right endpoints and the midpoint (<code>method="simpsons"</code>)</li>
</ul>
<p>This function is defined in <code>MTH229</code>:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">riemann</span>(f<span class="op">::</span><span class="dt">Function</span>, a<span class="op">::</span><span class="dt">Real</span>, b<span class="op">::</span><span class="dt">Real</span>, n<span class="op">::</span><span class="dt">Int</span>; method<span class="op">=</span><span class="st">"right"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> method <span class="op">==</span> <span class="st">"right"</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>     meth <span class="op">=</span> (f,l,r) <span class="op">-&gt;</span> <span class="fu">f</span>(r) <span class="op">*</span> (r<span class="op">-</span>l)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> method <span class="op">==</span> <span class="st">"left"</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>     meth<span class="op">=</span> (f,l,r) <span class="op">-&gt;</span> <span class="fu">f</span>(l) <span class="op">*</span> (r<span class="op">-</span>l)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> method <span class="op">==</span> <span class="st">"trapezoid"</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>     meth <span class="op">=</span> (f,l,r) <span class="op">-&gt;</span> (<span class="fl">1</span><span class="op">/</span><span class="fl">2</span>) <span class="op">*</span> (<span class="fu">f</span>(l) <span class="op">+</span> <span class="fu">f</span>(r)) <span class="op">*</span> (r<span class="op">-</span>l)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elseif</span> method <span class="op">==</span> <span class="st">"simpsons"</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>     meth <span class="op">=</span> (f,l,r) <span class="op">-&gt;</span> (<span class="fl">1</span><span class="op">/</span><span class="fl">6</span>) <span class="op">*</span> (<span class="fu">f</span>(l) <span class="op">+</span> <span class="fl">4</span><span class="fu">*</span>(<span class="fu">f</span>((l<span class="op">+</span>r)<span class="op">/</span><span class="fl">2</span>)) <span class="op">+</span> <span class="fu">f</span>(r)) <span class="op">*</span> (r<span class="op">-</span>l)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  xs <span class="op">=</span> <span class="fu">range</span>(a, b, length<span class="op">=</span>n<span class="op">+</span><span class="fl">1</span>)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  lrs <span class="op">=</span> <span class="fu">zip</span>(<span class="bu">Iterators</span>.<span class="fu">take</span>(xs, n), <span class="bu">Iterators</span>.<span class="fu">rest</span>(xs, <span class="fl">1</span>))</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(<span class="fu">meth</span>(f, l, r) <span class="cf">for</span> (l,r) <span class="kw">in</span> lrs)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="the-integrate-function-in-action" class="level3" data-number="10.3.1">
<h3 data-number="10.3.1" class="anchored" data-anchor-id="the-integrate-function-in-action"><span class="header-section-number">10.3.1</span> The integrate function in action</h3>
<p>The basic usage of the <code>riemann</code> function is straightforward. Here we approximate the integral of <span class="math inline">\(e^{-x^2}\)</span> from <span class="math inline">\(0\)</span> to <span class="math inline">\(3\)</span> using <span class="math inline">\(10,000\)</span> subintervals:</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span>  <span class="fu">exp</span>(<span class="op">-</span>x<span class="op">^</span><span class="fl">2</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">10_000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>0.8860573667654394</code></pre>
</div>
</div>
<p>How big should the number of intervals be? More intervals will give better answers, but unlike Newton’s method we have no stopping criteria. For this problem, we look at various values based on <code>n</code>:</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>[<span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">3</span>, n) for n <span class="kw">in</span> [<span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">10000</span>, <span class="fl">100000</span>]]   <span class="co">## or use 10.^(2:5)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>4-element Vector{Float64}:
 0.8712091438971502
 0.8847075328188878
 0.8860573667654394
 0.8861923501105895</code></pre>
</div>
</div>
<p>We see a value around <span class="math inline">\(0.886\)</span> as the answer.</p>
</section>
<section id="left-versus-right" class="level3" data-number="10.3.2">
<h3 data-number="10.3.2" class="anchored" data-anchor-id="left-versus-right"><span class="header-section-number">10.3.2</span> left versus right</h3>
<p>Using different methods allows us to compare the right and left Riemann sums. Let’s do so for the monotonic function <span class="math inline">\(e^x\)</span> over the interval <span class="math inline">\([0,2]\)</span>.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">exp</span>(x)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>ns <span class="op">=</span> [<span class="fl">10</span><span class="op">^</span>i for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>]</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>ys <span class="op">=</span> [<span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">2</span>, n, method<span class="op">=</span><span class="st">"right"</span>) <span class="op">-</span> <span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">2</span>, n, method<span class="op">=</span><span class="st">"left"</span>) for n <span class="kw">in</span> ns];</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>[ns ys]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>5×2 Matrix{Float64}:
     10.0  1.27781
    100.0  0.127781
   1000.0  0.0127781
  10000.0  0.00127781
 100000.0  0.000127781</code></pre>
</div>
</div>
<p>Since these are also the minimum and maximum Riemann sums, the above gives a bound on the error in the approximations. We can see it converges quite slowly, in that there are quite a few computations needed to get even a modest bound. (<span class="math inline">\(100,000\)</span> for <span class="math inline">\(0.00013\)</span>).</p>
</section>
<section id="practice-1" class="level3" data-number="10.3.3">
<h3 data-number="10.3.3" class="anchored" data-anchor-id="practice-1"><span class="header-section-number">10.3.3</span> Practice</h3>
<section id="question-4" class="level4">
<h4 class="anchored" data-anchor-id="question-4">Question</h4>
<p>Compute the integral of <span class="math inline">\(e^{-x^2}\)</span> over <span class="math inline">\([0,1]\)</span> using a right Riemann sum with <span class="math inline">\(n=10_000\)</span>. What is your answer?</p>
<div class="cell" data-execution_count="21">
<div class="cell-output cell-output-display" data-execution_count="21">
<script>
var ID = "GxsqwEDm"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="GxsqwEDm" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_GxsqwEDm" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="GxsqwEDm" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="GxsqwEDm_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_GxsqwEDm').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_GxsqwEDm')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("GxsqwEDm").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 0.7467925261713516) <= 1.0e-8);
  var msgBox = document.getElementById('GxsqwEDm_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_GxsqwEDm")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_GxsqwEDm")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-5" class="level4">
<h4 class="anchored" data-anchor-id="question-5">Question</h4>
<p>Compute the integral of <span class="math inline">\((1 + \cos(x)^2)^{1/2}\)</span> over the interval <span class="math inline">\([0, \pi]\)</span> using a right Riemann sum with <span class="math inline">\(n=10,000\)</span>. What is your answer?</p>
<div class="cell" data-execution_count="22">
<div class="cell-output cell-output-display" data-execution_count="22">
<script>
var ID = "06sdGX6g"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="06sdGX6g" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_06sdGX6g" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="06sdGX6g" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="06sdGX6g_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_06sdGX6g').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_06sdGX6g')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("06sdGX6g").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 3.82019778902772) <= 1.0e-8);
  var msgBox = document.getElementById('06sdGX6g_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_06sdGX6g")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_06sdGX6g")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-6" class="level4">
<h4 class="anchored" data-anchor-id="question-6">Question</h4>
<p>Repeat the above analysis comparing the right and left Riemann sums for <span class="math inline">\(f(x)=e^x\)</span> over <span class="math inline">\([0,2]\)</span>. However, this time multiply by <span class="math inline">\(n\)</span>, as follows:</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>ns <span class="op">=</span> [<span class="fl">10</span><span class="op">^</span>i for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">exp</span>(x)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>[n <span class="op">*</span> (<span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">2</span>, n, method<span class="op">=</span><span class="st">"right"</span>) <span class="op">-</span> <span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">2</span>, n, method<span class="op">=</span><span class="st">"left"</span>)) for n <span class="kw">in</span> ns]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>5-element Vector{Float64}:
 12.778112197861304
 12.778112197861446
 12.778112197861624
 12.77811219781988
 12.778112196087932</code></pre>
</div>
</div>
<p>This shows what?</p>
<div class="cell" data-execution_count="24">
<div class="cell-output cell-output-display" data-execution_count="24">
<script>
var ID = "yGuyJGnR"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="yGuyJGnR" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_yGuyJGnR" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_yGuyJGnR_1">
      <input class="form-check-input" type="radio" name="radio_yGuyJGnR" id="radio_yGuyJGnR_1" value="1">
      
      <span class="label-body px-1">
        That it is constant says the difference between right and left Riemann sums is constant.
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_yGuyJGnR_2">
      <input class="form-check-input" type="radio" name="radio_yGuyJGnR" id="radio_yGuyJGnR_2" value="2">
      
      <span class="label-body px-1">
        That it is constant says the difference between right and left Riemann sums goes to 0 like 1/n
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_yGuyJGnR_3">
      <input class="form-check-input" type="radio" name="radio_yGuyJGnR" id="radio_yGuyJGnR_3" value="3">
      
      <span class="label-body px-1">
        That it is constant says the difference between right and left Riemann sums never goes to 0
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="yGuyJGnR_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_yGuyJGnR').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_yGuyJGnR')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_yGuyJGnR"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('yGuyJGnR_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_yGuyJGnR")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_yGuyJGnR")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
</section>
</section>
<section id="improvements-to-the-rectangle-method" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="improvements-to-the-rectangle-method"><span class="header-section-number">10.4</span> Improvements to the rectangle method</h2>
<p>The basic left or right Riemann sum will converge, but the convergence is really slow. The value of using rectangles over a grid to approximate area is for theoretical computations, for numeric computations better approximations were known well before Riemann. We mention a few:</p>
<ul>
<li>The trapezoid rule and Simpson’s rule approximate the area under the curve better, as instead of a rectangle they use a trapezoid (linear fit between two points) or a quadratic fit between the two points.)</li>
<li>Gauss quadrature uses non-evenly selected points within the range and a weighting which is exact for polynomials of a given degree.</li>
<li>Adaptive methods pick a non-uniform set of points to use based on where a function is less well behaved.</li>
</ul>
<section id="trapezoid-and-simpsons-rule" class="level3" data-number="10.4.1">
<h3 data-number="10.4.1" class="anchored" data-anchor-id="trapezoid-and-simpsons-rule"><span class="header-section-number">10.4.1</span> Trapezoid and Simpson’s rule</h3>
<p>The trapezoid rule simply replaces the approximation of the area in a subinterval by a trapezoid, as opposed to a rectangle.</p>
<p>We can use this as follows. Let’s approximate the area under the curve <span class="math inline">\(y=5x^4\)</span> between <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span> (with known answer <span class="math inline">\(1\)</span>):</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fl">5</span>x<span class="op">^</span><span class="fl">4</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1000</span>, method<span class="op">=</span><span class="st">"trapezoid"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>1.0000016666664995</code></pre>
</div>
</div>
<p>Pretty close to 1 with just 1,000 subintervals.</p>
<p>We now compare the error with the left Riemann sum for the same size <span class="math inline">\(n\)</span>:</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>ns <span class="op">=</span> [<span class="fl">10</span><span class="op">^</span>i for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>]</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>left_r <span class="op">=</span> [<span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">1</span>, n) for n <span class="kw">in</span> ns];</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>trapezoid_r <span class="op">=</span> [<span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">1</span>, n, method<span class="op">=</span><span class="st">"trapezoid"</span>) for n <span class="kw">in</span> ns];</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>[ns (<span class="fl">1</span>)<span class="op">.-</span>left_r (<span class="fl">1</span>)<span class="op">.-</span>trapezoid_r]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>5×3 Matrix{Float64}:
     10.0  -0.26665      -0.01665
    100.0  -0.0251667    -0.000166665
   1000.0  -0.00250167   -1.66667e-6
  10000.0  -0.000250017  -1.66667e-8
 100000.0  -2.50002e-5   -1.66664e-10</code></pre>
</div>
</div>
<p>One can see that the errors are much smaller for the trapezoid method.</p>
</section>
<section id="simpsons-rule" class="level3" data-number="10.4.2">
<h3 data-number="10.4.2" class="anchored" data-anchor-id="simpsons-rule"><span class="header-section-number">10.4.2</span> Simpson’s rule</h3>
<p>The trapezoid rule can be viewed as a simple linear approximation to the function <span class="math inline">\(f(x)\)</span> over the subinterval <span class="math inline">\([a, b]\)</span>. That is, replace the function with the secant line between these two values and integrate the replacement. With this viewpoint, it is possible that other easy-to-integrate function approximations will lead to improved approximate integrals. Simpson’s method can be viewed in just this way. It replaces <span class="math inline">\(f\)</span> by the parabola going through <span class="math inline">\((a, f(a))\)</span>, <span class="math inline">\((c, f( c))\)</span> and <span class="math inline">\((b, f(b))\)</span> where <span class="math inline">\(c=(a+b)/2\)</span> is the midpoint between <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>.</p>
<p>We compare how accurate we get with this rule for the same <code>f</code> as before:</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>simpsons_r <span class="op">=</span> [<span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">1</span>, n, method<span class="op">=</span><span class="st">"simpsons"</span>) for n <span class="kw">in</span> ns];</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>[ns (<span class="fl">1</span>)<span class="op">.-</span>left_r (<span class="fl">1</span>)<span class="op">.-</span>trapezoid_r (<span class="fl">1</span>)<span class="op">.-</span>simpsons_r]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>5×4 Matrix{Float64}:
     10.0  -0.26665      -0.01665      -4.16667e-6
    100.0  -0.0251667    -0.000166665  -4.16667e-10
   1000.0  -0.00250167   -1.66667e-6   -4.15223e-14
  10000.0  -0.000250017  -1.66667e-8    1.22125e-15
 100000.0  -2.50002e-5   -1.66664e-10   1.22125e-15</code></pre>
</div>
</div>
<p>As can be seen, for this function approximating with a parabola is much quicker to converge. That is, <span class="math inline">\(n\)</span> can be smaller yet the same accuracy is maintained. (Of course, there are more computations involved for each, so the number of operations needed may or may not be fewer, that would require some analysis.)</p>
</section>
<section id="error" class="level3" data-number="10.4.3">
<h3 data-number="10.4.3" class="anchored" data-anchor-id="error"><span class="header-section-number">10.4.3</span> Error</h3>
<p>It can be shown that the <a href="http://en.wikipedia.org/wiki/Simpson%27s_rule#Error">error for Simpson’s method</a> is bounded by</p>
<p><span class="math display">\[
\frac{1}{90}\frac{1}{2^5} M (b-a)^5 \frac{1}{n^4},
\]</span></p>
<p>where <span class="math inline">\(M\)</span> is a bound on the fourth derivative. As we increase <span class="math inline">\(n\)</span>, the error gets small at a quick rate. By contrast, the error for the trapezoid method will be like <span class="math inline">\(n^{-2}\)</span> and the left Riemann sum like <span class="math inline">\(n^{-1}\)</span>.</p>
</section>
<section id="practice-2" class="level3" data-number="10.4.4">
<h3 data-number="10.4.4" class="anchored" data-anchor-id="practice-2"><span class="header-section-number">10.4.4</span> Practice</h3>
<section id="question-7" class="level4">
<h4 class="anchored" data-anchor-id="question-7">Question</h4>
<p>The trapezoid rule has no error for linear functions and Simpson’s rule has no error for quadratic functions. Verify the latter by computing the following:</p>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span>; <span class="fu">F</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">3</span><span class="op">/</span><span class="fl">3</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">100</span>, method<span class="op">=</span><span class="st">"simpsons"</span>) <span class="op">-</span> (<span class="fu">F</span>(<span class="fl">10</span>) <span class="op">-</span> <span class="fu">F</span>(<span class="fl">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>5.684341886080802e-14</code></pre>
</div>
</div>
<p>How accurate is the approximation? Around</p>
<div class="cell" data-execution_count="29">
<div class="cell-output cell-output-display" data-execution_count="29">
<script>
var ID = "Mk4QBeI3"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="Mk4QBeI3" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_Mk4QBeI3" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_Mk4QBeI3_1">
      <input class="form-check-input" type="radio" name="radio_Mk4QBeI3" id="radio_Mk4QBeI3_1" value="1">
      
      <span class="label-body px-1">
        <code>1e-8</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_Mk4QBeI3_2">
      <input class="form-check-input" type="radio" name="radio_Mk4QBeI3" id="radio_Mk4QBeI3_2" value="2">
      
      <span class="label-body px-1">
        <code>1e-10</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_Mk4QBeI3_3">
      <input class="form-check-input" type="radio" name="radio_Mk4QBeI3" id="radio_Mk4QBeI3_3" value="3">
      
      <span class="label-body px-1">
        <code>1e-12</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_Mk4QBeI3_4">
      <input class="form-check-input" type="radio" name="radio_Mk4QBeI3" id="radio_Mk4QBeI3_4" value="4">
      
      <span class="label-body px-1">
        <code>1e-14</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_Mk4QBeI3_5">
      <input class="form-check-input" type="radio" name="radio_Mk4QBeI3" id="radio_Mk4QBeI3_5" value="5">
      
      <span class="label-body px-1">
        <code>1e-16</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_Mk4QBeI3_6">
      <input class="form-check-input" type="radio" name="radio_Mk4QBeI3" id="radio_Mk4QBeI3_6" value="6">
      
      <span class="label-body px-1">
        <code>0</code>
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="Mk4QBeI3_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_Mk4QBeI3').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_Mk4QBeI3')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_Mk4QBeI3"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 4;
    var msgBox = document.getElementById('Mk4QBeI3_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_Mk4QBeI3")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_Mk4QBeI3")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
<section id="question-8" class="level4">
<h4 class="anchored" data-anchor-id="question-8">Question</h4>
<p>Compare the difference between the trapezoid rule and Simpson’s rule when integrating <span class="math inline">\(\cos(x)\)</span> from <span class="math inline">\(0\)</span> to <span class="math inline">\(\pi/6\)</span>. How big is the difference when <span class="math inline">\(n=10,000\)</span>?</p>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>a, b, n <span class="op">=</span> <span class="fl">0</span>, <span class="cn">pi</span><span class="op">/</span><span class="fl">6</span>, <span class="fl">10_000</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">riemann</span>(cos, a, b, n, method<span class="op">=</span><span class="st">"trapezoid"</span>) <span class="op">-</span> <span class="fu">riemann</span>(cos, a, b, n, method<span class="op">=</span><span class="st">"simpsons"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>-1.1423328949433653e-10</code></pre>
</div>
</div>
<p>How big is the difference?</p>
<div class="cell" data-execution_count="31">
<div class="cell-output cell-output-display" data-execution_count="31">
<script>
var ID = "l6nzgQQu"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="l6nzgQQu" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_l6nzgQQu" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_l6nzgQQu_1">
      <input class="form-check-input" type="radio" name="radio_l6nzgQQu" id="radio_l6nzgQQu_1" value="1">
      
      <span class="label-body px-1">
        <code>1e-8</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_l6nzgQQu_2">
      <input class="form-check-input" type="radio" name="radio_l6nzgQQu" id="radio_l6nzgQQu_2" value="2">
      
      <span class="label-body px-1">
        <code>1e-10</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_l6nzgQQu_3">
      <input class="form-check-input" type="radio" name="radio_l6nzgQQu" id="radio_l6nzgQQu_3" value="3">
      
      <span class="label-body px-1">
        <code>1e-12</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_l6nzgQQu_4">
      <input class="form-check-input" type="radio" name="radio_l6nzgQQu" id="radio_l6nzgQQu_4" value="4">
      
      <span class="label-body px-1">
        <code>1e-14</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_l6nzgQQu_5">
      <input class="form-check-input" type="radio" name="radio_l6nzgQQu" id="radio_l6nzgQQu_5" value="5">
      
      <span class="label-body px-1">
        <code>1e-16</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_l6nzgQQu_6">
      <input class="form-check-input" type="radio" name="radio_l6nzgQQu" id="radio_l6nzgQQu_6" value="6">
      
      <span class="label-body px-1">
        <code>0</code>
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="l6nzgQQu_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_l6nzgQQu').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_l6nzgQQu')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_l6nzgQQu"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('l6nzgQQu_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_l6nzgQQu")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_l6nzgQQu")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
<section id="question-." class="level4">
<h4 class="anchored" data-anchor-id="question-.">Question ….</h4>
<p>Using Simpson’s rule and <code>n=1000</code> compute the integral of <span class="math inline">\(f(x) = 1/(1+x^2)\)</span> between <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>.</p>
<div class="cell" data-execution_count="32">
<div class="cell-output cell-output-display" data-execution_count="32">
<script>
var ID = "yT2cOEjV"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="yT2cOEjV" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_yT2cOEjV" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="yT2cOEjV" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="yT2cOEjV_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_yT2cOEjV').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_yT2cOEjV')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("yT2cOEjV").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 0.7853981633974481) <= 1.0e-5);
  var msgBox = document.getElementById('yT2cOEjV_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_yT2cOEjV")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_yT2cOEjV")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
</section>
</section>
<section id="the-quadgk-function" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="the-quadgk-function"><span class="header-section-number">10.5</span> The quadgk function</h2>
<p><code>Julia</code> provides the <code>quadgk</code> function to do adaptive Gauss-Konrod quadrature, a modern, fast and accurate means to compute 1-dimensional integrals numerically. This is in the <code>QuadGK</code> package which is loaded with <code>MTH229</code>.</p>
<p>The use is straightforward, and similar to <code>riemann</code> above: you specify a function object, and the limits of integration. You don’t specify <span class="math inline">\(n\)</span> – as this is computed adaptively – but you can optionally specify a tolerance which controls the accuracy, though we don’t do so here. For example, a typical usage might be:</p>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>a, err <span class="op">=</span> <span class="fu">quadgk</span>(sin, <span class="fl">0</span>, <span class="cn">pi</span>)     <span class="co">## 2 is exact</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>(2.0000000000000004, 1.7901236049056024e-12)</code></pre>
</div>
</div>
<p>Two values are returned, the answer and an estimate of the error. In the above, <span class="math inline">\(2\)</span> is the exact answer to this integral, the estimated value a just a bit more <span class="math inline">\(2\)</span>, but is estimated to be off my no more than the second value, <span class="math inline">\(1.78 \cdot 10^{-12}\)</span>.</p>
<p>If just the answer is of interest, then it can be extracted using <em>index notation</em>:</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quadgk</span>(sin, <span class="fl">0</span>, <span class="cn">pi</span>)[<span class="fl">1</span>]       <span class="co"># [1] picks out the first component or two</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>2.0000000000000004</code></pre>
</div>
</div>
<hr>
<p>For another illustration, since Archimedes the known answer for <span class="math inline">\(\int_0^1 x^2 dx\)</span> is <span class="math inline">\(1/3\)</span>. We see that <code>quadgk</code> gets it right for all the digits:</p>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quadgk</span>(x <span class="op">-&gt;</span> x<span class="op">^</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>(0.3333333333333333, 0.0)</code></pre>
</div>
</div>
<p>The <code>riemann</code> function is good for pedagogical purposes, but the <code>quadgk</code> function should be used instead of the <code>riemann</code> function – besides being built-in to <code>julia</code> it is more accurate, more robust, fast, and less work to use.</p>
<p>(That <code>quadgk</code> is exact with polynomials is no surprise, as the underlying choice of nodes and weights makes it so for polynomials of certain degree.)</p>
<section id="practice-3" class="level3" data-number="10.5.1">
<h3 data-number="10.5.1" class="anchored" data-anchor-id="practice-3"><span class="header-section-number">10.5.1</span> Practice</h3>
<section id="question-use-quadgk" class="level4">
<h4 class="anchored" data-anchor-id="question-use-quadgk">Question: Use quadgk</h4>
<p>Let <span class="math inline">\(f(x) = \exp(-4 \cdot |x-1/2|)\)</span>. Find the integral over <span class="math inline">\([0,1]\)</span> using <code>quadgk</code>:</p>
<div class="cell" data-execution_count="36">
<div class="cell-output cell-output-display" data-execution_count="36">
<script>
var ID = "gsOGM62V"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="gsOGM62V" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_gsOGM62V" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="gsOGM62V" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="gsOGM62V_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_gsOGM62V').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_gsOGM62V')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("gsOGM62V").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 0.4323323583816937) <= 1.0e-5);
  var msgBox = document.getElementById('gsOGM62V_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_gsOGM62V")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_gsOGM62V")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-use-quadgk-1" class="level4">
<h4 class="anchored" data-anchor-id="question-use-quadgk-1">Question: use quadgk</h4>
<p>Let <span class="math inline">\(f(x) = \sin(100\pi x)/(\pi x)\)</span>. Find the integral over <span class="math inline">\([0,1]\)</span> using <code>quadgk</code>:</p>
<div class="cell" data-execution_count="37">
<div class="cell-output cell-output-display" data-execution_count="37">
<script>
var ID = "8XIGDYHU"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="8XIGDYHU" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_8XIGDYHU" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="8XIGDYHU" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="8XIGDYHU_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_8XIGDYHU').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_8XIGDYHU')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("8XIGDYHU").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 0.49898680869304557) <= 0.0001);
  var msgBox = document.getElementById('8XIGDYHU_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_8XIGDYHU")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_8XIGDYHU")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-9" class="level4">
<h4 class="anchored" data-anchor-id="question-9">Question</h4>
<p>Let <span class="math inline">\(f(x) = \sin(100\pi x)/(\pi x)\)</span>. Using <span class="math inline">\(1,000\)</span> points, find the right-Riemann integral over <span class="math inline">\([0,1]\)</span>.</p>
<div class="cell" data-execution_count="38">
<div class="cell-output cell-output-display" data-execution_count="38">
<script>
var ID = "I1j6LVrf"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="I1j6LVrf" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_I1j6LVrf" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="I1j6LVrf" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="I1j6LVrf_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_I1j6LVrf').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_I1j6LVrf')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("I1j6LVrf").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 0.4489951557656148) <= 1.0e-5);
  var msgBox = document.getElementById('I1j6LVrf_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_I1j6LVrf")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_I1j6LVrf")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
<p>(The answer via Riemann sums isn’t even correct to 4 decimal points, due to the highly oscillatory nature of the function.)</p>
</section>
<section id="question-10" class="level4">
<h4 class="anchored" data-anchor-id="question-10">Question</h4>
<p>How far off is this Riemann estimate, when <span class="math inline">\(n=100,000\)</span>?</p>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fl">1</span><span class="op">/</span>(<span class="fl">1</span> <span class="op">+</span> x<span class="op">^</span><span class="fl">4</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quadgk</span>(f, <span class="fl">0</span>, <span class="fl">1</span>)[<span class="fl">1</span>] <span class="op">-</span> <span class="fu">riemann</span>(f, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">100_000</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="40">
<div class="cell-output cell-output-display" data-execution_count="40">
<script>
var ID = "PzsqkAbJ"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="PzsqkAbJ" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_PzsqkAbJ" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_PzsqkAbJ_1">
      <input class="form-check-input" type="radio" name="radio_PzsqkAbJ" id="radio_PzsqkAbJ_1" value="1">
      
      <span class="label-body px-1">
        Roughly <code>1e-6</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_PzsqkAbJ_2">
      <input class="form-check-input" type="radio" name="radio_PzsqkAbJ" id="radio_PzsqkAbJ_2" value="2">
      
      <span class="label-body px-1">
        Roughly <code>1e-12</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_PzsqkAbJ_3">
      <input class="form-check-input" type="radio" name="radio_PzsqkAbJ" id="radio_PzsqkAbJ_3" value="3">
      
      <span class="label-body px-1">
        Roughly <code>1e-4</code>
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="PzsqkAbJ_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_PzsqkAbJ').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_PzsqkAbJ')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_PzsqkAbJ"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 1;
    var msgBox = document.getElementById('PzsqkAbJ_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_PzsqkAbJ")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_PzsqkAbJ")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
<section id="question-11" class="level4">
<h4 class="anchored" data-anchor-id="question-11">Question</h4>
<p>The <code>quadgk</code> function allows you to specify issues where there are troubles. For example, we know that <span class="math inline">\(f(x) = \sin(x)/x\)</span> has an issue at 0. Directly trying this integral <code>quadgk(x-&gt;sin(x)/x, -pi, pi)</code> will fail, but you can specify the issue at <span class="math inline">\(0\)</span> as follows <code>quadgk(x -&gt; sin(x)/x, -pi, 0, pi)</code>. Do so. What is the value of the result:</p>
<div class="cell" data-execution_count="41">
<div class="cell-output cell-output-display" data-execution_count="41">
<script>
var ID = "lkhCIyj5"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="lkhCIyj5" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_lkhCIyj5" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="lkhCIyj5" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="lkhCIyj5_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_lkhCIyj5').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_lkhCIyj5')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("lkhCIyj5").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 3.7038741039649326) <= 0.0001);
  var msgBox = document.getElementById('lkhCIyj5_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_lkhCIyj5")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_lkhCIyj5")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-12" class="level4">
<h4 class="anchored" data-anchor-id="question-12">Question</h4>
<p>Let <span class="math inline">\(f(x) = |x - 0.3|^{-1/4}\)</span>. We wish to find <span class="math inline">\(\int_0^1 f(x) dx\)</span>. The problem with this function is the singularity at <span class="math inline">\(x=0.3\)</span>. (That is, the function is not continuous, so has no guarantee that an integral over a closed domain exists.) However, some such integrals do exist, and the <code>quadgk</code> function can integrate around such singularities by spelling them out in the domain of integration. Just specify the trouble spots between the endpoints:</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">abs</span>(x <span class="op">-</span> <span class="fl">0.3</span>)<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">4</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>val <span class="op">=</span> <span class="fu">quadgk</span>(f, <span class="fl">0</span>, <span class="fl">0.3</span>, <span class="fl">1</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Following the above, what answer do you get?</p>
<div class="cell" data-execution_count="43">
<div class="cell-output cell-output-display" data-execution_count="43">
<script>
var ID = "lLOmBUTh"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="lLOmBUTh" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_lLOmBUTh" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="lLOmBUTh" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="lLOmBUTh_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_lLOmBUTh').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_lLOmBUTh')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("lLOmBUTh").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 1.5608608290003951) <= 0.0001);
  var msgBox = document.getElementById('lLOmBUTh_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_lLOmBUTh")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_lLOmBUTh")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
</section>
</section>
<section id="applications" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="applications"><span class="header-section-number">10.6</span> Applications</h2>
<p>There are many more applications of the integral beyond computing areas under the curve. Here we discuss two:</p>
<ul>
<li>finding the volume of a figure with rotational symmetry (a glass in our example) and</li>
<li>finding the arc length of a line.</li>
</ul>
<p>In each case one integrates a function related to the one describing the problem. If you keep this straight, the applications are no different than above.</p>
<section id="volume-as-a-function-of-radius." class="level3" data-number="10.6.1">
<h3 data-number="10.6.1" class="anchored" data-anchor-id="volume-as-a-function-of-radius."><span class="header-section-number">10.6.1</span> Volume as a function of radius.</h3>
<p>The volume of a solid of revolution about the <span class="math inline">\(y\)</span>-axis is illustrated <a href="https://www.khanacademy.org/math/integral-calculus/solid_revolution_topic/disc-method/v/disc-method-around-y-axis">here</a>.</p>
<p>This figure shows a volume of revolution (a glass) with an emphasis on the radius of the solid. The volume can be determined if the radius is known.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/integration/integration-glass.jpg" class="img-fluid figure-img" alt="A glass as a solid of revolution"></p>
<figcaption class="figure-caption">Glass</figcaption>
</figure>
</div>
<p>The basic formula requires the description of the radius as a function of <span class="math inline">\(x\)</span> (if oriented as the figure) or the height, <span class="math inline">\(h\)</span>, (if oriented as in real life). Suppose we specify the radius with <span class="math inline">\(r(h)\)</span>, then the following formula holds with <span class="math inline">\(b\)</span> the total height.</p>
<p><span class="math display">\[
V(b) = \int_0^b \pi r(h)^2 dh.
\]</span></p>
<p>For a symmetrical drinking vessel, like most every glass you drink from, the volume can be computed from a formula if a function describing the radius is known. For a given glass, let <span class="math inline">\(r(h)\)</span> give the radius as a function of height. Then, as above, the volume of the vessel as a function of height, <span class="math inline">\(b\)</span>, is given by an integral:</p>
<p><span class="math display">\[
V(b) = \int_0^b \pi (r(h))^2 dh
\]</span></p>
<p>We wish to look at our intuition relating the height of the fluid in the vessel compared to the percentage of fluid of the whole. A basic question might be: If the vessel is filled half way by height, is the volume half of the total, more or less?</p>
<p>The answer, of course, depends on the shape of the glass. That is the shape of the function <span class="math inline">\(r(h)\)</span>. Note, if <span class="math inline">\(r(h)\)</span> is a constant – the glass is a cylinder – then the half-height mark is also the half-volume mark. Not so in general.</p>
<p>For a standard measuring cup, the answer for different <code>b</code>’s is printed on the side:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/integration/measuring_cup.png" class="img-fluid figure-img" alt="A measuring cup is calibrated according to actual volume, which is shape dependent"></p>
<figcaption class="figure-caption">Measuring cup</figcaption>
</figure>
</div>
<p>With the formula for the volume of a solid of revolution we can compute this marks numerically if we know the radius as a function of height.</p>
<p>In Glass Shape Influences Consumption Rate for <a href="http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0043007">Alcoholic Beverages</a> the authors demonstrate that the shape of the glass can have an effect on the rate of consumption, presumably people drink faster when they aren’t sure how much they have left. In particular, they comment that people have difficulty judging the half-finished-by-volume mark.</p>
<p>This figure shows some of the wide variety of beer-serving glasses:</p>
<p><a href="figures/integration/beer_glasses.jpg">Beer glasses</a></p>
<p>We work with metric units, as there is a natural relation between volume in cm<span class="math inline">\(^3\)</span> and liquid measure (1 liter = 1000 cm<span class="math inline">\(^3\)</span>, so a 16-oz pint glass is roughly <span class="math inline">\(450\)</span> cm<span class="math inline">\(^3\)</span>.)</p>
<p>Let two glasses be given as follows. A typical pint glass with linearly increasing radius:</p>
<p><span class="math display">\[
r(h) = 3 + \frac{1}{5}h, \quad 0 \leq h \leq b;
\]</span></p>
<p>and a curved edge one:</p>
<p><span class="math display">\[
s(h) = 3 + \log(1 + h), \quad 0 \leq h \leq b
\]</span></p>
<p><a href="figures/integration/glass-half-full.png">Half full</a></p>
<p>One could also consider a fluted one, such as appears in the comparison noted in the article.</p>
<section id="question-13" class="level4">
<h4 class="anchored" data-anchor-id="question-13">Question</h4>
<p>Which of these functions might describe a fluted glass where the radius changes faster as the height gets bigger, that is the radius is a <em>concave up</em> function?</p>
<div class="cell" data-execution_count="44">
<div class="cell-output cell-output-display" data-execution_count="44">
<script>
var ID = "P86EzOnk"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="P86EzOnk" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_P86EzOnk" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_P86EzOnk_1">
      <input class="form-check-input" type="radio" name="radio_P86EzOnk" id="radio_P86EzOnk_1" value="1">
      
      <span class="label-body px-1">
        <code>r(h) = 2 + h/10, 0 &lt;= h &lt;= 10</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_P86EzOnk_2">
      <input class="form-check-input" type="radio" name="radio_P86EzOnk" id="radio_P86EzOnk_2" value="2">
      
      <span class="label-body px-1">
        <code>r(h) = 2 + (h/10)^2, 0 &lt;= h &lt;= 10</code>
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_P86EzOnk_3">
      <input class="form-check-input" type="radio" name="radio_P86EzOnk" id="radio_P86EzOnk_3" value="3">
      
      <span class="label-body px-1">
        <code>r(h) = 2 + sqrt(h/10), 0 &lt;= h &lt;= 10</code>
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="P86EzOnk_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_P86EzOnk').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_P86EzOnk')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_P86EzOnk"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('P86EzOnk_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_P86EzOnk")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_P86EzOnk")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
<hr>
<p>For the two types of glasses in the figure, we create functions in <code>julia</code> as follows:</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">r</span>(h) <span class="op">=</span> <span class="fl">3</span> <span class="op">+</span> h<span class="op">/</span><span class="fl">5</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">s</span>(h) <span class="op">=</span> <span class="fl">3</span> <span class="op">+</span> <span class="fu">log</span>(<span class="fl">1</span> <span class="op">+</span> h)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">r_vol</span>(b) <span class="op">=</span> <span class="fu">quadgk</span>(x <span class="op">-&gt;</span> <span class="fu">pi*r</span>(x)<span class="op">^</span><span class="fl">2</span>, <span class="fl">0</span>, b)[<span class="fl">1</span>]</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">s_vol</span>(b) <span class="op">=</span> <span class="fu">quadgk</span>(x <span class="op">-&gt;</span> <span class="fu">pi*s</span>(x)<span class="op">^</span><span class="fl">2</span>, <span class="fl">0</span>, b)[<span class="fl">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>s_vol (generic function with 1 method)</code></pre>
</div>
</div>
<p>Then we can easily find the volume as a function of height. For example at 10cm we have:</p>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">r_vol</span>(<span class="fl">10</span>), <span class="fu">s_vol</span>(<span class="fl">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>(513.1268000863328, 687.2432199897678)</code></pre>
</div>
</div>
<p>However, to find <span class="math inline">\(b\)</span> that makes the glass <span class="math inline">\(450\)</span> cm<span class="math inline">\(^3\)</span> requires us to solve an equation involving an integral for <span class="math inline">\(b\)</span>:</p>
<p><span class="math display">\[
V(b) = \int_0^b \pi r(h)^2 dh = 450.
\]</span></p>
<p>Not to worry, we can use <code>find_zero</code> from the <code>Roots</code> package for that (again, this is loaded with the <code>MTH229</code> package). To solve for when <code>V(b) = r_vol(b) - 450 = 0</code> we have</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>r_b <span class="op">=</span> <span class="fu">find_zero</span>(x <span class="op">-&gt;</span> <span class="fu">r_vol</span>(x) <span class="op">-</span> <span class="fl">450</span>,  <span class="fl">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>9.168923214523724</code></pre>
</div>
</div>
<p>So <span class="math inline">\(b\)</span> is basically <span class="math inline">\(9.17\)</span>. Given this, how much volume is left at <code>b/2</code>?</p>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">r_vol</span>(r_b<span class="op">/</span><span class="fl">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>173.27527610482957</code></pre>
</div>
</div>
<p>Which is what percent of the whole?</p>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">r_vol</span>(r_b<span class="op">/</span><span class="fl">2</span>) <span class="op">/</span> <span class="fu">r_vol</span>(r_b) <span class="op">*</span> <span class="fl">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>38.505616912184344</code></pre>
</div>
</div>
<p>As this height is often mistaken for the half-way by volume mark, people tend to drink these pints faster than they think.</p>
<p>Now compare to the height to get half the volume (225 ml):</p>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>r_half <span class="op">=</span> <span class="fu">find_zero</span>(x <span class="op">-&gt;</span> <span class="fu">r_vol</span>(x) <span class="op">-</span> <span class="fl">225</span>,  <span class="fl">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>5.603662378152273</code></pre>
</div>
</div>
<p>This value is more than half of <span class="math inline">\(b\)</span>:</p>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>r_half <span class="op">/</span> r_b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>0.6111581749616989</code></pre>
</div>
</div>
<p>At this height only half the volume is remaining (and not at 50% of the original height.)</p>
</section>
</section>
<section id="practice-4" class="level3" data-number="10.6.2">
<h3 data-number="10.6.2" class="anchored" data-anchor-id="practice-4"><span class="header-section-number">10.6.2</span> Practice</h3>
<section id="question-14" class="level4">
<h4 class="anchored" data-anchor-id="question-14">Question</h4>
<p>Compare the above for the curved glass, where <span class="math inline">\(s(h) = 3 + \log(1 + h)\)</span>.</p>
<p>What is the height of the glass, <code>b</code>, needed to make the volume 450?</p>
<div class="cell" data-execution_count="52">
<div class="cell-output cell-output-display" data-execution_count="52">
<script>
var ID = "irVNYCbT"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="irVNYCbT" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_irVNYCbT" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="irVNYCbT" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="irVNYCbT_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_irVNYCbT').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_irVNYCbT')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("irVNYCbT").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 7.273543523711022) <= 0.001);
  var msgBox = document.getElementById('irVNYCbT_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_irVNYCbT")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_irVNYCbT")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-15" class="level4">
<h4 class="anchored" data-anchor-id="question-15">Question</h4>
<p>Find the volume of the glass represented by <span class="math inline">\(s(h) = 3 + \log(1 + h), 0 \leq h \leq b\)</span> when the glass is filled to half its height. Report the value as a percentage of the total volume.</p>
<div class="cell" data-execution_count="53">
<div class="cell-output cell-output-display" data-execution_count="53">
<script>
var ID = "6mZzcUz5"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="6mZzcUz5" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_6mZzcUz5" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="6mZzcUz5" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="6mZzcUz5_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_6mZzcUz5').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_6mZzcUz5')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("6mZzcUz5").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 40.17520354006269) <= 1);
  var msgBox = document.getElementById('6mZzcUz5_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_6mZzcUz5")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_6mZzcUz5")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-16" class="level4">
<h4 class="anchored" data-anchor-id="question-16">Question</h4>
<p>Now how high do you fill the glass to produce <em>half</em> the volume? Report your answer in terms of a percentage of <span class="math inline">\(b\)</span>, the height of the glass.</p>
<div class="cell" data-execution_count="54">
<div class="cell-output cell-output-display" data-execution_count="54">
<script>
var ID = "sr5f9OMa"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="sr5f9OMa" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_sr5f9OMa" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="sr5f9OMa" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="sr5f9OMa_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_sr5f9OMa').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_sr5f9OMa')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("sr5f9OMa").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 59.13334210350367) <= 0.1);
  var msgBox = document.getElementById('sr5f9OMa_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_sr5f9OMa")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_sr5f9OMa")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-17" class="level4">
<h4 class="anchored" data-anchor-id="question-17">Question</h4>
<p>Consider this big Solo cup:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/integration/big-solo-cup.jpg" class="img-fluid figure-img" alt="A big red solo cup"></p>
<figcaption class="figure-caption">Solo cup</figcaption>
</figure>
</div>
<p>It has approximate dimensions: smaller radius 5 feet, upper radius 8 feet and height 15 feet. How many gallons is it? At <span class="math inline">\(8\)</span> pounds a gallon this would be pretty heavy!</p>
<p>Two facts are useful:</p>
<ul>
<li>a cubic foot is 7.48052 gallons</li>
<li>the radius as a function of height is <span class="math inline">\(r(h) = 5 + (3/15)\cdot h\)</span></li>
</ul>
<div class="cell" data-execution_count="55">
<div class="cell-output cell-output-display" data-execution_count="55">
<script>
var ID = "BFWU7URe"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="BFWU7URe" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_BFWU7URe" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="BFWU7URe" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="BFWU7URe_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_BFWU7URe').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_BFWU7URe')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("BFWU7URe").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 15157.98160668533) <= 10.0);
  var msgBox = document.getElementById('BFWU7URe_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_BFWU7URe")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_BFWU7URe")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
</section>
</section>
<section id="example-arc-length" class="level2" data-number="10.7">
<h2 data-number="10.7" class="anchored" data-anchor-id="example-arc-length"><span class="header-section-number">10.7</span> Example, arc length</h2>
<p>The basic indefinite integral for a positive function answers the amount of area under the curve over a given interval. However, the integral can be interpreted in many different ways. For example, one can use an integral to answer how long a curve is. Of course one can estimate this answer. For example, consider this curve:</p>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x <span class="op">-&gt;</span> x<span class="op">^</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip990">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip990)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip991">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip990)" d="M189.154 1800.78 L2640.76 1800.78 L2640.76 47.2441 L189.154 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip992">
    <rect x="189" y="47" width="2453" height="1755"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="258.539,1800.78 258.539,47.2441 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="836.747,1800.78 836.747,47.2441 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1414.95,1800.78 1414.95,47.2441 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1993.16,1800.78 1993.16,47.2441 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2571.37,1800.78 2571.37,47.2441 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,1800.78 2640.76,1800.78 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="258.539,1800.78 258.539,1781.88 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="836.747,1800.78 836.747,1781.88 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1414.95,1800.78 1414.95,1781.88 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1993.16,1800.78 1993.16,1781.88 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2571.37,1800.78 2571.37,1781.88 "></polyline>
<path clip-path="url(#clip990)" d="M220.842 1834 Q217.231 1834 215.403 1837.57 Q213.597 1841.11 213.597 1848.24 Q213.597 1855.34 215.403 1858.91 Q217.231 1862.45 220.842 1862.45 Q224.477 1862.45 226.282 1858.91 Q228.111 1855.34 228.111 1848.24 Q228.111 1841.11 226.282 1837.57 Q224.477 1834 220.842 1834 M220.842 1830.3 Q226.653 1830.3 229.708 1834.9 Q232.787 1839.49 232.787 1848.24 Q232.787 1856.96 229.708 1861.57 Q226.653 1866.15 220.842 1866.15 Q215.032 1866.15 211.954 1861.57 Q208.898 1856.96 208.898 1848.24 Q208.898 1839.49 211.954 1834.9 Q215.032 1830.3 220.842 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M241.004 1859.6 L245.889 1859.6 L245.889 1865.48 L241.004 1865.48 L241.004 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M266.074 1834 Q262.463 1834 260.634 1837.57 Q258.828 1841.11 258.828 1848.24 Q258.828 1855.34 260.634 1858.91 Q262.463 1862.45 266.074 1862.45 Q269.708 1862.45 271.513 1858.91 Q273.342 1855.34 273.342 1848.24 Q273.342 1841.11 271.513 1837.57 Q269.708 1834 266.074 1834 M266.074 1830.3 Q271.884 1830.3 274.939 1834.9 Q278.018 1839.49 278.018 1848.24 Q278.018 1856.96 274.939 1861.57 Q271.884 1866.15 266.074 1866.15 Q260.263 1866.15 257.185 1861.57 Q254.129 1856.96 254.129 1848.24 Q254.129 1839.49 257.185 1834.9 Q260.263 1830.3 266.074 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M296.236 1834 Q292.624 1834 290.796 1837.57 Q288.99 1841.11 288.99 1848.24 Q288.99 1855.34 290.796 1858.91 Q292.624 1862.45 296.236 1862.45 Q299.87 1862.45 301.675 1858.91 Q303.504 1855.34 303.504 1848.24 Q303.504 1841.11 301.675 1837.57 Q299.87 1834 296.236 1834 M296.236 1830.3 Q302.046 1830.3 305.101 1834.9 Q308.18 1839.49 308.18 1848.24 Q308.18 1856.96 305.101 1861.57 Q302.046 1866.15 296.236 1866.15 Q290.425 1866.15 287.347 1861.57 Q284.291 1856.96 284.291 1848.24 Q284.291 1839.49 287.347 1834.9 Q290.425 1830.3 296.236 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M799.548 1834 Q795.937 1834 794.108 1837.57 Q792.303 1841.11 792.303 1848.24 Q792.303 1855.34 794.108 1858.91 Q795.937 1862.45 799.548 1862.45 Q803.182 1862.45 804.988 1858.91 Q806.817 1855.34 806.817 1848.24 Q806.817 1841.11 804.988 1837.57 Q803.182 1834 799.548 1834 M799.548 1830.3 Q805.358 1830.3 808.414 1834.9 Q811.492 1839.49 811.492 1848.24 Q811.492 1856.96 808.414 1861.57 Q805.358 1866.15 799.548 1866.15 Q793.738 1866.15 790.659 1861.57 Q787.604 1856.96 787.604 1848.24 Q787.604 1839.49 790.659 1834.9 Q793.738 1830.3 799.548 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M819.71 1859.6 L824.594 1859.6 L824.594 1865.48 L819.71 1865.48 L819.71 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M838.807 1861.55 L855.126 1861.55 L855.126 1865.48 L833.182 1865.48 L833.182 1861.55 Q835.844 1858.79 840.427 1854.16 Q845.034 1849.51 846.214 1848.17 Q848.46 1845.65 849.339 1843.91 Q850.242 1842.15 850.242 1840.46 Q850.242 1837.71 848.298 1835.97 Q846.377 1834.23 843.275 1834.23 Q841.076 1834.23 838.622 1835 Q836.191 1835.76 833.414 1837.31 L833.414 1832.59 Q836.238 1831.46 838.691 1830.88 Q841.145 1830.3 843.182 1830.3 Q848.552 1830.3 851.747 1832.98 Q854.941 1835.67 854.941 1840.16 Q854.941 1842.29 854.131 1844.21 Q853.344 1846.11 851.238 1848.7 Q850.659 1849.37 847.557 1852.59 Q844.455 1855.78 838.807 1861.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M864.988 1830.92 L883.344 1830.92 L883.344 1834.86 L869.27 1834.86 L869.27 1843.33 Q870.288 1842.98 871.307 1842.82 Q872.325 1842.64 873.344 1842.64 Q879.131 1842.64 882.511 1845.81 Q885.89 1848.98 885.89 1854.4 Q885.89 1859.97 882.418 1863.08 Q878.946 1866.15 872.626 1866.15 Q870.45 1866.15 868.182 1865.78 Q865.937 1865.41 863.529 1864.67 L863.529 1859.97 Q865.613 1861.11 867.835 1861.66 Q870.057 1862.22 872.534 1862.22 Q876.538 1862.22 878.876 1860.11 Q881.214 1858.01 881.214 1854.4 Q881.214 1850.78 878.876 1848.68 Q876.538 1846.57 872.534 1846.57 Q870.659 1846.57 868.784 1846.99 Q866.932 1847.4 864.988 1848.28 L864.988 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1377.26 1834 Q1373.65 1834 1371.82 1837.57 Q1370.01 1841.11 1370.01 1848.24 Q1370.01 1855.34 1371.82 1858.91 Q1373.65 1862.45 1377.26 1862.45 Q1380.89 1862.45 1382.7 1858.91 Q1384.53 1855.34 1384.53 1848.24 Q1384.53 1841.11 1382.7 1837.57 Q1380.89 1834 1377.26 1834 M1377.26 1830.3 Q1383.07 1830.3 1386.12 1834.9 Q1389.2 1839.49 1389.2 1848.24 Q1389.2 1856.96 1386.12 1861.57 Q1383.07 1866.15 1377.26 1866.15 Q1371.45 1866.15 1368.37 1861.57 Q1365.31 1856.96 1365.31 1848.24 Q1365.31 1839.49 1368.37 1834.9 Q1371.45 1830.3 1377.26 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1397.42 1859.6 L1402.3 1859.6 L1402.3 1865.48 L1397.42 1865.48 L1397.42 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1412.54 1830.92 L1430.89 1830.92 L1430.89 1834.86 L1416.82 1834.86 L1416.82 1843.33 Q1417.84 1842.98 1418.86 1842.82 Q1419.87 1842.64 1420.89 1842.64 Q1426.68 1842.64 1430.06 1845.81 Q1433.44 1848.98 1433.44 1854.4 Q1433.44 1859.97 1429.97 1863.08 Q1426.49 1866.15 1420.17 1866.15 Q1418 1866.15 1415.73 1865.78 Q1413.49 1865.41 1411.08 1864.67 L1411.08 1859.97 Q1413.16 1861.11 1415.38 1861.66 Q1417.61 1862.22 1420.08 1862.22 Q1424.09 1862.22 1426.42 1860.11 Q1428.76 1858.01 1428.76 1854.4 Q1428.76 1850.78 1426.42 1848.68 Q1424.09 1846.57 1420.08 1846.57 Q1418.21 1846.57 1416.33 1846.99 Q1414.48 1847.4 1412.54 1848.28 L1412.54 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1452.65 1834 Q1449.04 1834 1447.21 1837.57 Q1445.41 1841.11 1445.41 1848.24 Q1445.41 1855.34 1447.21 1858.91 Q1449.04 1862.45 1452.65 1862.45 Q1456.29 1862.45 1458.09 1858.91 Q1459.92 1855.34 1459.92 1848.24 Q1459.92 1841.11 1458.09 1837.57 Q1456.29 1834 1452.65 1834 M1452.65 1830.3 Q1458.46 1830.3 1461.52 1834.9 Q1464.6 1839.49 1464.6 1848.24 Q1464.6 1856.96 1461.52 1861.57 Q1458.46 1866.15 1452.65 1866.15 Q1446.84 1866.15 1443.76 1861.57 Q1440.71 1856.96 1440.71 1848.24 Q1440.71 1839.49 1443.76 1834.9 Q1446.84 1830.3 1452.65 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1955.96 1834 Q1952.35 1834 1950.52 1837.57 Q1948.72 1841.11 1948.72 1848.24 Q1948.72 1855.34 1950.52 1858.91 Q1952.35 1862.45 1955.96 1862.45 Q1959.6 1862.45 1961.4 1858.91 Q1963.23 1855.34 1963.23 1848.24 Q1963.23 1841.11 1961.4 1837.57 Q1959.6 1834 1955.96 1834 M1955.96 1830.3 Q1961.77 1830.3 1964.83 1834.9 Q1967.91 1839.49 1967.91 1848.24 Q1967.91 1856.96 1964.83 1861.57 Q1961.77 1866.15 1955.96 1866.15 Q1950.15 1866.15 1947.08 1861.57 Q1944.02 1856.96 1944.02 1848.24 Q1944.02 1839.49 1947.08 1834.9 Q1950.15 1830.3 1955.96 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1976.13 1859.6 L1981.01 1859.6 L1981.01 1865.48 L1976.13 1865.48 L1976.13 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M1990.01 1830.92 L2012.24 1830.92 L2012.24 1832.91 L1999.69 1865.48 L1994.81 1865.48 L2006.61 1834.86 L1990.01 1834.86 L1990.01 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M2021.4 1830.92 L2039.76 1830.92 L2039.76 1834.86 L2025.69 1834.86 L2025.69 1843.33 Q2026.7 1842.98 2027.72 1842.82 Q2028.74 1842.64 2029.76 1842.64 Q2035.55 1842.64 2038.93 1845.81 Q2042.31 1848.98 2042.31 1854.4 Q2042.31 1859.97 2038.83 1863.08 Q2035.36 1866.15 2029.04 1866.15 Q2026.87 1866.15 2024.6 1865.78 Q2022.35 1865.41 2019.95 1864.67 L2019.95 1859.97 Q2022.03 1861.11 2024.25 1861.66 Q2026.47 1862.22 2028.95 1862.22 Q2032.95 1862.22 2035.29 1860.11 Q2037.63 1858.01 2037.63 1854.4 Q2037.63 1850.78 2035.29 1848.68 Q2032.95 1846.57 2028.95 1846.57 Q2027.07 1846.57 2025.2 1846.99 Q2023.35 1847.4 2021.4 1848.28 L2021.4 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M2523.44 1861.55 L2531.08 1861.55 L2531.08 1835.18 L2522.77 1836.85 L2522.77 1832.59 L2531.04 1830.92 L2535.71 1830.92 L2535.71 1861.55 L2543.35 1861.55 L2543.35 1865.48 L2523.44 1865.48 L2523.44 1861.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M2552.79 1859.6 L2557.68 1859.6 L2557.68 1865.48 L2552.79 1865.48 L2552.79 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M2577.86 1834 Q2574.25 1834 2572.42 1837.57 Q2570.62 1841.11 2570.62 1848.24 Q2570.62 1855.34 2572.42 1858.91 Q2574.25 1862.45 2577.86 1862.45 Q2581.5 1862.45 2583.3 1858.91 Q2585.13 1855.34 2585.13 1848.24 Q2585.13 1841.11 2583.3 1837.57 Q2581.5 1834 2577.86 1834 M2577.86 1830.3 Q2583.67 1830.3 2586.73 1834.9 Q2589.81 1839.49 2589.81 1848.24 Q2589.81 1856.96 2586.73 1861.57 Q2583.67 1866.15 2577.86 1866.15 Q2572.05 1866.15 2568.98 1861.57 Q2565.92 1856.96 2565.92 1848.24 Q2565.92 1839.49 2568.98 1834.9 Q2572.05 1830.3 2577.86 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M2608.03 1834 Q2604.41 1834 2602.59 1837.57 Q2600.78 1841.11 2600.78 1848.24 Q2600.78 1855.34 2602.59 1858.91 Q2604.41 1862.45 2608.03 1862.45 Q2611.66 1862.45 2613.47 1858.91 Q2615.29 1855.34 2615.29 1848.24 Q2615.29 1841.11 2613.47 1837.57 Q2611.66 1834 2608.03 1834 M2608.03 1830.3 Q2613.84 1830.3 2616.89 1834.9 Q2619.97 1839.49 2619.97 1848.24 Q2619.97 1856.96 2616.89 1861.57 Q2613.84 1866.15 2608.03 1866.15 Q2602.22 1866.15 2599.14 1861.57 Q2596.08 1856.96 2596.08 1848.24 Q2596.08 1839.49 2599.14 1834.9 Q2602.22 1830.3 2608.03 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="189.154,1751.15 2640.76,1751.15 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="189.154,1337.58 2640.76,1337.58 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="189.154,924.012 2640.76,924.012 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="189.154,510.442 2640.76,510.442 "></polyline>
<polyline clip-path="url(#clip992)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="189.154,96.8724 2640.76,96.8724 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,1800.78 189.154,47.2441 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,1751.15 208.052,1751.15 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,1337.58 208.052,1337.58 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,924.012 208.052,924.012 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,510.442 208.052,510.442 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="189.154,96.8724 208.052,96.8724 "></polyline>
<path clip-path="url(#clip990)" d="M61.4965 1736.95 Q57.8854 1736.95 56.0567 1740.51 Q54.2512 1744.06 54.2512 1751.19 Q54.2512 1758.29 56.0567 1761.86 Q57.8854 1765.4 61.4965 1765.4 Q65.1307 1765.4 66.9363 1761.86 Q68.765 1758.29 68.765 1751.19 Q68.765 1744.06 66.9363 1740.51 Q65.1307 1736.95 61.4965 1736.95 M61.4965 1733.25 Q67.3067 1733.25 70.3622 1737.85 Q73.4409 1742.44 73.4409 1751.19 Q73.4409 1759.91 70.3622 1764.52 Q67.3067 1769.1 61.4965 1769.1 Q55.6864 1769.1 52.6077 1764.52 Q49.5521 1759.91 49.5521 1751.19 Q49.5521 1742.44 52.6077 1737.85 Q55.6864 1733.25 61.4965 1733.25 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M81.6584 1762.55 L86.5427 1762.55 L86.5427 1768.43 L81.6584 1768.43 L81.6584 1762.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M106.728 1736.95 Q103.117 1736.95 101.288 1740.51 Q99.4824 1744.06 99.4824 1751.19 Q99.4824 1758.29 101.288 1761.86 Q103.117 1765.4 106.728 1765.4 Q110.362 1765.4 112.168 1761.86 Q113.996 1758.29 113.996 1751.19 Q113.996 1744.06 112.168 1740.51 Q110.362 1736.95 106.728 1736.95 M106.728 1733.25 Q112.538 1733.25 115.593 1737.85 Q118.672 1742.44 118.672 1751.19 Q118.672 1759.91 115.593 1764.52 Q112.538 1769.1 106.728 1769.1 Q100.918 1769.1 97.8389 1764.52 Q94.7834 1759.91 94.7834 1751.19 Q94.7834 1742.44 97.8389 1737.85 Q100.918 1733.25 106.728 1733.25 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M136.89 1736.95 Q133.279 1736.95 131.45 1740.51 Q129.644 1744.06 129.644 1751.19 Q129.644 1758.29 131.45 1761.86 Q133.279 1765.4 136.89 1765.4 Q140.524 1765.4 142.329 1761.86 Q144.158 1758.29 144.158 1751.19 Q144.158 1744.06 142.329 1740.51 Q140.524 1736.95 136.89 1736.95 M136.89 1733.25 Q142.7 1733.25 145.755 1737.85 Q148.834 1742.44 148.834 1751.19 Q148.834 1759.91 145.755 1764.52 Q142.7 1769.1 136.89 1769.1 Q131.079 1769.1 128.001 1764.52 Q124.945 1759.91 124.945 1751.19 Q124.945 1742.44 128.001 1737.85 Q131.079 1733.25 136.89 1733.25 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M62.4919 1323.38 Q58.8808 1323.38 57.0521 1326.94 Q55.2465 1330.49 55.2465 1337.62 Q55.2465 1344.72 57.0521 1348.29 Q58.8808 1351.83 62.4919 1351.83 Q66.1261 1351.83 67.9317 1348.29 Q69.7604 1344.72 69.7604 1337.62 Q69.7604 1330.49 67.9317 1326.94 Q66.1261 1323.38 62.4919 1323.38 M62.4919 1319.68 Q68.302 1319.68 71.3576 1324.28 Q74.4363 1328.87 74.4363 1337.62 Q74.4363 1346.34 71.3576 1350.95 Q68.302 1355.53 62.4919 1355.53 Q56.6817 1355.53 53.603 1350.95 Q50.5475 1346.34 50.5475 1337.62 Q50.5475 1328.87 53.603 1324.28 Q56.6817 1319.68 62.4919 1319.68 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M82.6538 1348.98 L87.538 1348.98 L87.538 1354.86 L82.6538 1354.86 L82.6538 1348.98 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M101.751 1350.93 L118.07 1350.93 L118.07 1354.86 L96.126 1354.86 L96.126 1350.93 Q98.788 1348.17 103.371 1343.54 Q107.978 1338.89 109.158 1337.55 Q111.404 1335.02 112.283 1333.29 Q113.186 1331.53 113.186 1329.84 Q113.186 1327.08 111.242 1325.35 Q109.32 1323.61 106.218 1323.61 Q104.019 1323.61 101.566 1324.38 Q99.1352 1325.14 96.3574 1326.69 L96.3574 1321.97 Q99.1815 1320.83 101.635 1320.26 Q104.089 1319.68 106.126 1319.68 Q111.496 1319.68 114.691 1322.36 Q117.885 1325.05 117.885 1329.54 Q117.885 1331.67 117.075 1333.59 Q116.288 1335.49 114.181 1338.08 Q113.603 1338.75 110.501 1341.97 Q107.399 1345.16 101.751 1350.93 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M127.931 1320.3 L146.288 1320.3 L146.288 1324.24 L132.214 1324.24 L132.214 1332.71 Q133.232 1332.36 134.251 1332.2 Q135.269 1332.01 136.288 1332.01 Q142.075 1332.01 145.454 1335.19 Q148.834 1338.36 148.834 1343.77 Q148.834 1349.35 145.362 1352.45 Q141.89 1355.53 135.57 1355.53 Q133.394 1355.53 131.126 1355.16 Q128.88 1354.79 126.473 1354.05 L126.473 1349.35 Q128.556 1350.49 130.779 1351.04 Q133.001 1351.6 135.478 1351.6 Q139.482 1351.6 141.82 1349.49 Q144.158 1347.38 144.158 1343.77 Q144.158 1340.16 141.82 1338.06 Q139.482 1335.95 135.478 1335.95 Q133.603 1335.95 131.728 1336.37 Q129.876 1336.78 127.931 1337.66 L127.931 1320.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M61.4965 909.81 Q57.8854 909.81 56.0567 913.375 Q54.2512 916.917 54.2512 924.046 Q54.2512 931.153 56.0567 934.718 Q57.8854 938.259 61.4965 938.259 Q65.1307 938.259 66.9363 934.718 Q68.765 931.153 68.765 924.046 Q68.765 916.917 66.9363 913.375 Q65.1307 909.81 61.4965 909.81 M61.4965 906.107 Q67.3067 906.107 70.3622 910.713 Q73.4409 915.296 73.4409 924.046 Q73.4409 932.773 70.3622 937.38 Q67.3067 941.963 61.4965 941.963 Q55.6864 941.963 52.6077 937.38 Q49.5521 932.773 49.5521 924.046 Q49.5521 915.296 52.6077 910.713 Q55.6864 906.107 61.4965 906.107 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M81.6584 935.412 L86.5427 935.412 L86.5427 941.292 L81.6584 941.292 L81.6584 935.412 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M96.7741 906.732 L115.13 906.732 L115.13 910.667 L101.056 910.667 L101.056 919.139 Q102.075 918.792 103.094 918.63 Q104.112 918.445 105.131 918.445 Q110.918 918.445 114.297 921.616 Q117.677 924.787 117.677 930.204 Q117.677 935.782 114.205 938.884 Q110.732 941.963 104.413 941.963 Q102.237 941.963 99.9685 941.593 Q97.7232 941.222 95.3158 940.482 L95.3158 935.782 Q97.3991 936.917 99.6213 937.472 Q101.844 938.028 104.32 938.028 Q108.325 938.028 110.663 935.921 Q113.001 933.815 113.001 930.204 Q113.001 926.593 110.663 924.486 Q108.325 922.38 104.32 922.38 Q102.445 922.38 100.57 922.796 Q98.7185 923.213 96.7741 924.093 L96.7741 906.732 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M136.89 909.81 Q133.279 909.81 131.45 913.375 Q129.644 916.917 129.644 924.046 Q129.644 931.153 131.45 934.718 Q133.279 938.259 136.89 938.259 Q140.524 938.259 142.329 934.718 Q144.158 931.153 144.158 924.046 Q144.158 916.917 142.329 913.375 Q140.524 909.81 136.89 909.81 M136.89 906.107 Q142.7 906.107 145.755 910.713 Q148.834 915.296 148.834 924.046 Q148.834 932.773 145.755 937.38 Q142.7 941.963 136.89 941.963 Q131.079 941.963 128.001 937.38 Q124.945 932.773 124.945 924.046 Q124.945 915.296 128.001 910.713 Q131.079 906.107 136.89 906.107 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M62.4919 496.241 Q58.8808 496.241 57.0521 499.806 Q55.2465 503.347 55.2465 510.477 Q55.2465 517.583 57.0521 521.148 Q58.8808 524.69 62.4919 524.69 Q66.1261 524.69 67.9317 521.148 Q69.7604 517.583 69.7604 510.477 Q69.7604 503.347 67.9317 499.806 Q66.1261 496.241 62.4919 496.241 M62.4919 492.537 Q68.302 492.537 71.3576 497.144 Q74.4363 501.727 74.4363 510.477 Q74.4363 519.204 71.3576 523.81 Q68.302 528.393 62.4919 528.393 Q56.6817 528.393 53.603 523.81 Q50.5475 519.204 50.5475 510.477 Q50.5475 501.727 53.603 497.144 Q56.6817 492.537 62.4919 492.537 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M82.6538 521.842 L87.538 521.842 L87.538 527.722 L82.6538 527.722 L82.6538 521.842 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M96.5426 493.162 L118.765 493.162 L118.765 495.153 L106.218 527.722 L101.334 527.722 L113.14 497.097 L96.5426 497.097 L96.5426 493.162 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M127.931 493.162 L146.288 493.162 L146.288 497.097 L132.214 497.097 L132.214 505.569 Q133.232 505.222 134.251 505.06 Q135.269 504.875 136.288 504.875 Q142.075 504.875 145.454 508.046 Q148.834 511.218 148.834 516.634 Q148.834 522.213 145.362 525.315 Q141.89 528.393 135.57 528.393 Q133.394 528.393 131.126 528.023 Q128.88 527.653 126.473 526.912 L126.473 522.213 Q128.556 523.347 130.779 523.903 Q133.001 524.458 135.478 524.458 Q139.482 524.458 141.82 522.352 Q144.158 520.245 144.158 516.634 Q144.158 513.023 141.82 510.917 Q139.482 508.81 135.478 508.81 Q133.603 508.81 131.728 509.227 Q129.876 509.643 127.931 510.523 L127.931 493.162 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M52.3067 110.217 L59.9456 110.217 L59.9456 83.8517 L51.6354 85.5183 L51.6354 81.2591 L59.8993 79.5924 L64.5752 79.5924 L64.5752 110.217 L72.214 110.217 L72.214 114.152 L52.3067 114.152 L52.3067 110.217 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M81.6584 108.273 L86.5427 108.273 L86.5427 114.152 L81.6584 114.152 L81.6584 108.273 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M106.728 82.6711 Q103.117 82.6711 101.288 86.2359 Q99.4824 89.7776 99.4824 96.9072 Q99.4824 104.014 101.288 107.578 Q103.117 111.12 106.728 111.12 Q110.362 111.12 112.168 107.578 Q113.996 104.014 113.996 96.9072 Q113.996 89.7776 112.168 86.2359 Q110.362 82.6711 106.728 82.6711 M106.728 78.9675 Q112.538 78.9675 115.593 83.5739 Q118.672 88.1572 118.672 96.9072 Q118.672 105.634 115.593 110.24 Q112.538 114.824 106.728 114.824 Q100.918 114.824 97.8389 110.24 Q94.7834 105.634 94.7834 96.9072 Q94.7834 88.1572 97.8389 83.5739 Q100.918 78.9675 106.728 78.9675 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M136.89 82.6711 Q133.279 82.6711 131.45 86.2359 Q129.644 89.7776 129.644 96.9072 Q129.644 104.014 131.45 107.578 Q133.279 111.12 136.89 111.12 Q140.524 111.12 142.329 107.578 Q144.158 104.014 144.158 96.9072 Q144.158 89.7776 142.329 86.2359 Q140.524 82.6711 136.89 82.6711 M136.89 78.9675 Q142.7 78.9675 145.755 83.5739 Q148.834 88.1572 148.834 96.9072 Q148.834 105.634 145.755 110.24 Q142.7 114.824 136.89 114.824 Q131.079 114.824 128.001 110.24 Q124.945 105.634 124.945 96.9072 Q124.945 88.1572 128.001 83.5739 Q131.079 78.9675 136.89 78.9675 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip992)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="258.539,1751.15 266.068,1751.13 273.597,1751.08 343.212,1748.93 412.828,1743.79 454.664,1739.26 496.5,1733.64 531.872,1728.05 567.244,1721.68 644.091,1705.18 714.938,1686.73 790.893,1663.51 878.894,1632.14 957.099,1600.24 1025.68,1569.15 1100.45,1531.95 1175.66,1491.03 1258.82,1441.72 1337.94,1390.83 1420.21,1333.81 1489.47,1282.57 1574.02,1215.99 1651.47,1151.11 1723.01,1087.9 1795.47,1020.64 1876.68,941.399 1950.27,866.073 2034.52,775.716 2112.53,688.14 2189.45,598.114 2264.12,507.207 2302.4,459.274 2340.67,410.435 2382.61,355.886 2424.54,300.249 2485.46,217.489 2546.38,132.435 2558.87,114.702 2571.37,96.8724 "></polyline>
<path clip-path="url(#clip990)" d="M270.874 209.375 L568.465 209.375 L568.465 105.695 L270.874 105.695  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip990)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="270.874,209.375 568.465,209.375 568.465,105.695 270.874,105.695 270.874,209.375 "></polyline>
<polyline clip-path="url(#clip990)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="298.114,157.535 461.554,157.535 "></polyline>
<path clip-path="url(#clip990)" d="M502.637 177.223 Q500.831 181.852 499.118 183.264 Q497.405 184.676 494.535 184.676 L491.132 184.676 L491.132 181.112 L493.632 181.112 Q495.391 181.112 496.364 180.278 Q497.336 179.445 498.516 176.343 L499.28 174.399 L488.794 148.889 L493.308 148.889 L501.41 169.167 L509.512 148.889 L514.026 148.889 L502.637 177.223 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip990)" d="M521.317 170.88 L528.956 170.88 L528.956 144.515 L520.646 146.181 L520.646 141.922 L528.91 140.255 L533.586 140.255 L533.586 170.88 L541.225 170.88 L541.225 174.815 L521.317 174.815 L521.317 170.88 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
<p>This curve has length no more than <span class="math inline">\(2 = 1 + 1\)</span> – the distance along the <span class="math inline">\(x\)</span> axis starting at <span class="math inline">\(0\)</span> to <span class="math inline">\(1\)</span> and then going up. It is also longer than <span class="math inline">\(\sqrt{2} = \sqrt{1^2 + 1^2}\)</span> – the straight line distance between the two endpoints. But how long is it?</p>
<p>In general, the <em>arc length</em> of the curve <span class="math inline">\(y=f(x)\)</span> between <span class="math inline">\(a \leq x \leq b\)</span> (or how long is the curve) is given through the formula</p>
<p><span class="math display">\[
l = \int_a^b \sqrt{1 + f'(x)^2} dx
\]</span></p>
<p>The formula is from the length of the hypotenuse of a right triangle with lengths <span class="math inline">\(1\)</span> and <span class="math inline">\(f'(x)\)</span>, This image suggests an approximation for the length and why the hypotenuse of some triangle might be involved.</p>
<p><a href="figures/integration/arclength.gif">Arc length</a></p>
<p>Rather than focus on a derivation, we do some examples illustrating that to compute the arclength of the graph of a function is relatively straightforward using numeric integration. For example, our answer for <span class="math inline">\(f(x) = x^2\)</span> is given by</p>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quadgk</span>(x <span class="op">-&gt;</span> <span class="fu">sqrt</span>(<span class="fl">1</span> <span class="op">+</span> f<span class="op">'</span>(x)<span class="op">^</span><span class="fl">2</span>), <span class="fl">0</span>, <span class="fl">1</span>)      <span class="co"># using f' notation defined in MTH229</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>(1.4789428575446002, 1.0424397123287577e-8)</code></pre>
</div>
</div>
<p>(We use an <em>anonymous function</em> for the integrand which involved the derivative being found through <code>f'</code>. If the graph is described by <code>f</code>, then this expression be the same for all these problems.)</p>
<hr>
<p>Whereas, the length of the <span class="math inline">\(f(x) = \sin(x)\)</span> over <span class="math inline">\([0, \pi]\)</span> would be:</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quadgk</span>(x <span class="op">-&gt;</span> <span class="fu">sqrt</span>(<span class="fl">1</span> <span class="op">+</span> f<span class="op">'</span>(x)<span class="op">^</span><span class="fl">2</span>), <span class="fl">0</span>, <span class="cn">pi</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>(3.820197789027713, 9.377002729848982e-9)</code></pre>
</div>
</div>
<p>Next we look at a more practical problem.</p>
<section id="example-the-catenary-shape" class="level3" data-number="10.7.1">
<h3 data-number="10.7.1" class="anchored" data-anchor-id="example-the-catenary-shape"><span class="header-section-number">10.7.1</span> Example: the catenary shape</h3>
<p>A <a href="http://en.wikipedia.org/wiki/Catenary">catenary shape</a> is the shape a hanging chain will take as it is suspended between two posts. It appears elsewhere, for example, power wires will also have this shape as they are suspended between towers. A formula for a catenary can be written in terms of the hyperbolic cosine, <code>cosh</code> in <code>julia</code> or exponentials.</p>
<p><span class="math display">\[
y = a \cosh(x/a) = a \cdot \frac{e^{x/a} + e^{-x/a}}{2}.
\]</span></p>
<p>Suppose we have the following wire hung between <span class="math inline">\(x=-1\)</span> and <span class="math inline">\(x=1\)</span> with <span class="math inline">\(a = 2\)</span>:</p>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x; a<span class="op">=</span><span class="fl">2</span>) <span class="op">=</span> a <span class="op">*</span> <span class="fu">cosh</span>(x<span class="op">/</span>a)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip080">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip080)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip081">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip080)" d="M188.807 1800.78 L2640.76 1800.78 L2640.76 47.2441 L188.807 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip082">
    <rect x="188" y="47" width="2453" height="1755"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="258.202,1800.78 258.202,47.2441 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="836.491,1800.78 836.491,47.2441 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1414.78,1800.78 1414.78,47.2441 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1993.07,1800.78 1993.07,47.2441 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2571.36,1800.78 2571.36,47.2441 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,1800.78 2640.76,1800.78 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="258.202,1800.78 258.202,1781.88 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="836.491,1800.78 836.491,1781.88 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1414.78,1800.78 1414.78,1781.88 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1993.07,1800.78 1993.07,1781.88 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2571.36,1800.78 2571.36,1781.88 "></polyline>
<path clip-path="url(#clip080)" d="M204.73 1848.65 L234.405 1848.65 L234.405 1852.59 L204.73 1852.59 L204.73 1848.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M245.308 1861.55 L252.947 1861.55 L252.947 1835.18 L244.637 1836.85 L244.637 1832.59 L252.901 1830.92 L257.577 1830.92 L257.577 1861.55 L265.215 1861.55 L265.215 1865.48 L245.308 1865.48 L245.308 1861.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M274.66 1859.6 L279.544 1859.6 L279.544 1865.48 L274.66 1865.48 L274.66 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M299.729 1834 Q296.118 1834 294.289 1837.57 Q292.484 1841.11 292.484 1848.24 Q292.484 1855.34 294.289 1858.91 Q296.118 1862.45 299.729 1862.45 Q303.363 1862.45 305.169 1858.91 Q306.998 1855.34 306.998 1848.24 Q306.998 1841.11 305.169 1837.57 Q303.363 1834 299.729 1834 M299.729 1830.3 Q305.539 1830.3 308.595 1834.9 Q311.674 1839.49 311.674 1848.24 Q311.674 1856.96 308.595 1861.57 Q305.539 1866.15 299.729 1866.15 Q293.919 1866.15 290.84 1861.57 Q287.785 1856.96 287.785 1848.24 Q287.785 1839.49 290.84 1834.9 Q293.919 1830.3 299.729 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M783.517 1848.65 L813.193 1848.65 L813.193 1852.59 L783.517 1852.59 L783.517 1848.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M833.285 1834 Q829.674 1834 827.846 1837.57 Q826.04 1841.11 826.04 1848.24 Q826.04 1855.34 827.846 1858.91 Q829.674 1862.45 833.285 1862.45 Q836.92 1862.45 838.725 1858.91 Q840.554 1855.34 840.554 1848.24 Q840.554 1841.11 838.725 1837.57 Q836.92 1834 833.285 1834 M833.285 1830.3 Q839.096 1830.3 842.151 1834.9 Q845.23 1839.49 845.23 1848.24 Q845.23 1856.96 842.151 1861.57 Q839.096 1866.15 833.285 1866.15 Q827.475 1866.15 824.397 1861.57 Q821.341 1856.96 821.341 1848.24 Q821.341 1839.49 824.397 1834.9 Q827.475 1830.3 833.285 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M853.447 1859.6 L858.332 1859.6 L858.332 1865.48 L853.447 1865.48 L853.447 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M868.563 1830.92 L886.919 1830.92 L886.919 1834.86 L872.845 1834.86 L872.845 1843.33 Q873.864 1842.98 874.882 1842.82 Q875.901 1842.64 876.919 1842.64 Q882.706 1842.64 886.086 1845.81 Q889.466 1848.98 889.466 1854.4 Q889.466 1859.97 885.994 1863.08 Q882.521 1866.15 876.202 1866.15 Q874.026 1866.15 871.757 1865.78 Q869.512 1865.41 867.105 1864.67 L867.105 1859.97 Q869.188 1861.11 871.41 1861.66 Q873.632 1862.22 876.109 1862.22 Q880.114 1862.22 882.452 1860.11 Q884.79 1858.01 884.79 1854.4 Q884.79 1850.78 882.452 1848.68 Q880.114 1846.57 876.109 1846.57 Q874.234 1846.57 872.359 1846.99 Q870.507 1847.4 868.563 1848.28 L868.563 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M1392.17 1834 Q1388.55 1834 1386.73 1837.57 Q1384.92 1841.11 1384.92 1848.24 Q1384.92 1855.34 1386.73 1858.91 Q1388.55 1862.45 1392.17 1862.45 Q1395.8 1862.45 1397.61 1858.91 Q1399.43 1855.34 1399.43 1848.24 Q1399.43 1841.11 1397.61 1837.57 Q1395.8 1834 1392.17 1834 M1392.17 1830.3 Q1397.98 1830.3 1401.03 1834.9 Q1404.11 1839.49 1404.11 1848.24 Q1404.11 1856.96 1401.03 1861.57 Q1397.98 1866.15 1392.17 1866.15 Q1386.36 1866.15 1383.28 1861.57 Q1380.22 1856.96 1380.22 1848.24 Q1380.22 1839.49 1383.28 1834.9 Q1386.36 1830.3 1392.17 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M1412.33 1859.6 L1417.21 1859.6 L1417.21 1865.48 L1412.33 1865.48 L1412.33 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M1437.4 1834 Q1433.79 1834 1431.96 1837.57 Q1430.15 1841.11 1430.15 1848.24 Q1430.15 1855.34 1431.96 1858.91 Q1433.79 1862.45 1437.4 1862.45 Q1441.03 1862.45 1442.84 1858.91 Q1444.67 1855.34 1444.67 1848.24 Q1444.67 1841.11 1442.84 1837.57 Q1441.03 1834 1437.4 1834 M1437.4 1830.3 Q1443.21 1830.3 1446.26 1834.9 Q1449.34 1839.49 1449.34 1848.24 Q1449.34 1856.96 1446.26 1861.57 Q1443.21 1866.15 1437.4 1866.15 Q1431.59 1866.15 1428.51 1861.57 Q1425.45 1856.96 1425.45 1848.24 Q1425.45 1839.49 1428.51 1834.9 Q1431.59 1830.3 1437.4 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M1970.95 1834 Q1967.34 1834 1965.51 1837.57 Q1963.71 1841.11 1963.71 1848.24 Q1963.71 1855.34 1965.51 1858.91 Q1967.34 1862.45 1970.95 1862.45 Q1974.59 1862.45 1976.39 1858.91 Q1978.22 1855.34 1978.22 1848.24 Q1978.22 1841.11 1976.39 1837.57 Q1974.59 1834 1970.95 1834 M1970.95 1830.3 Q1976.76 1830.3 1979.82 1834.9 Q1982.9 1839.49 1982.9 1848.24 Q1982.9 1856.96 1979.82 1861.57 Q1976.76 1866.15 1970.95 1866.15 Q1965.14 1866.15 1962.06 1861.57 Q1959.01 1856.96 1959.01 1848.24 Q1959.01 1839.49 1962.06 1834.9 Q1965.14 1830.3 1970.95 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M1991.12 1859.6 L1996 1859.6 L1996 1865.48 L1991.12 1865.48 L1991.12 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M2006.23 1830.92 L2024.59 1830.92 L2024.59 1834.86 L2010.51 1834.86 L2010.51 1843.33 Q2011.53 1842.98 2012.55 1842.82 Q2013.57 1842.64 2014.59 1842.64 Q2020.37 1842.64 2023.75 1845.81 Q2027.13 1848.98 2027.13 1854.4 Q2027.13 1859.97 2023.66 1863.08 Q2020.19 1866.15 2013.87 1866.15 Q2011.69 1866.15 2009.43 1865.78 Q2007.18 1865.41 2004.77 1864.67 L2004.77 1859.97 Q2006.86 1861.11 2009.08 1861.66 Q2011.3 1862.22 2013.78 1862.22 Q2017.78 1862.22 2020.12 1860.11 Q2022.46 1858.01 2022.46 1854.4 Q2022.46 1850.78 2020.12 1848.68 Q2017.78 1846.57 2013.78 1846.57 Q2011.9 1846.57 2010.03 1846.99 Q2008.18 1847.4 2006.23 1848.28 L2006.23 1830.92 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M2538.51 1861.55 L2546.15 1861.55 L2546.15 1835.18 L2537.84 1836.85 L2537.84 1832.59 L2546.11 1830.92 L2550.78 1830.92 L2550.78 1861.55 L2558.42 1861.55 L2558.42 1865.48 L2538.51 1865.48 L2538.51 1861.55 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M2567.87 1859.6 L2572.75 1859.6 L2572.75 1865.48 L2567.87 1865.48 L2567.87 1859.6 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M2592.94 1834 Q2589.32 1834 2587.5 1837.57 Q2585.69 1841.11 2585.69 1848.24 Q2585.69 1855.34 2587.5 1858.91 Q2589.32 1862.45 2592.94 1862.45 Q2596.57 1862.45 2598.37 1858.91 Q2600.2 1855.34 2600.2 1848.24 Q2600.2 1841.11 2598.37 1837.57 Q2596.57 1834 2592.94 1834 M2592.94 1830.3 Q2598.75 1830.3 2601.8 1834.9 Q2604.88 1839.49 2604.88 1848.24 Q2604.88 1856.96 2601.8 1861.57 Q2598.75 1866.15 2592.94 1866.15 Q2587.12 1866.15 2584.05 1861.57 Q2580.99 1856.96 2580.99 1848.24 Q2580.99 1839.49 2584.05 1834.9 Q2587.12 1830.3 2592.94 1830.3 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="188.807,1751.18 2640.76,1751.18 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="188.807,1427.13 2640.76,1427.13 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="188.807,1103.07 2640.76,1103.07 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="188.807,779.02 2640.76,779.02 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="188.807,454.965 2640.76,454.965 "></polyline>
<polyline clip-path="url(#clip082)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="188.807,130.911 2640.76,130.911 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,1800.78 188.807,47.2441 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,1751.18 207.704,1751.18 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,1427.13 207.704,1427.13 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,1103.07 207.704,1103.07 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,779.02 207.704,779.02 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,454.965 207.704,454.965 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="188.807,130.911 207.704,130.911 "></polyline>
<path clip-path="url(#clip080)" d="M55.1771 1764.53 L71.4965 1764.53 L71.4965 1768.46 L49.5521 1768.46 L49.5521 1764.53 Q52.2141 1761.77 56.7975 1757.15 Q61.4039 1752.49 62.5845 1751.15 Q64.8298 1748.63 65.7094 1746.89 Q66.6122 1745.13 66.6122 1743.44 Q66.6122 1740.69 64.6678 1738.95 Q62.7465 1737.21 59.6447 1737.21 Q57.4456 1737.21 54.9919 1737.98 Q52.5614 1738.74 49.7836 1740.29 L49.7836 1735.57 Q52.6077 1734.44 55.0614 1733.86 Q57.515 1733.28 59.5521 1733.28 Q64.9224 1733.28 68.1168 1735.96 Q71.3113 1738.65 71.3113 1743.14 Q71.3113 1745.27 70.5011 1747.19 Q69.7141 1749.09 67.6076 1751.68 Q67.0289 1752.35 63.927 1755.57 Q60.8252 1758.77 55.1771 1764.53 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M81.3112 1762.58 L86.1954 1762.58 L86.1954 1768.46 L81.3112 1768.46 L81.3112 1762.58 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M106.381 1736.98 Q102.769 1736.98 100.941 1740.55 Q99.1352 1744.09 99.1352 1751.22 Q99.1352 1758.33 100.941 1761.89 Q102.769 1765.43 106.381 1765.43 Q110.015 1765.43 111.82 1761.89 Q113.649 1758.33 113.649 1751.22 Q113.649 1744.09 111.82 1740.55 Q110.015 1736.98 106.381 1736.98 M106.381 1733.28 Q112.191 1733.28 115.246 1737.89 Q118.325 1742.47 118.325 1751.22 Q118.325 1759.95 115.246 1764.55 Q112.191 1769.14 106.381 1769.14 Q100.57 1769.14 97.4917 1764.55 Q94.4361 1759.95 94.4361 1751.22 Q94.4361 1742.47 97.4917 1737.89 Q100.57 1733.28 106.381 1733.28 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M136.542 1736.98 Q132.931 1736.98 131.103 1740.55 Q129.297 1744.09 129.297 1751.22 Q129.297 1758.33 131.103 1761.89 Q132.931 1765.43 136.542 1765.43 Q140.177 1765.43 141.982 1761.89 Q143.811 1758.33 143.811 1751.22 Q143.811 1744.09 141.982 1740.55 Q140.177 1736.98 136.542 1736.98 M136.542 1733.28 Q142.353 1733.28 145.408 1737.89 Q148.487 1742.47 148.487 1751.22 Q148.487 1759.95 145.408 1764.55 Q142.353 1769.14 136.542 1769.14 Q130.732 1769.14 127.654 1764.55 Q124.598 1759.95 124.598 1751.22 Q124.598 1742.47 127.654 1737.89 Q130.732 1733.28 136.542 1733.28 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M56.1725 1440.47 L72.4918 1440.47 L72.4918 1444.41 L50.5475 1444.41 L50.5475 1440.47 Q53.2095 1437.72 57.7928 1433.09 Q62.3993 1428.44 63.5798 1427.09 Q65.8252 1424.57 66.7048 1422.84 Q67.6076 1421.08 67.6076 1419.39 Q67.6076 1416.63 65.6632 1414.9 Q63.7419 1413.16 60.64 1413.16 Q58.441 1413.16 55.9873 1413.92 Q53.5567 1414.69 50.779 1416.24 L50.779 1411.52 Q53.603 1410.38 56.0567 1409.8 Q58.5104 1409.22 60.5474 1409.22 Q65.9178 1409.22 69.1122 1411.91 Q72.3066 1414.6 72.3066 1419.09 Q72.3066 1421.22 71.4965 1423.14 Q70.7094 1425.03 68.6029 1427.63 Q68.0242 1428.3 64.9224 1431.52 Q61.8206 1434.71 56.1725 1440.47 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M82.3066 1438.53 L87.1908 1438.53 L87.1908 1444.41 L82.3066 1444.41 L82.3066 1438.53 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M107.376 1412.93 Q103.765 1412.93 101.936 1416.49 Q100.131 1420.03 100.131 1427.16 Q100.131 1434.27 101.936 1437.84 Q103.765 1441.38 107.376 1441.38 Q111.01 1441.38 112.816 1437.84 Q114.644 1434.27 114.644 1427.16 Q114.644 1420.03 112.816 1416.49 Q111.01 1412.93 107.376 1412.93 M107.376 1409.22 Q113.186 1409.22 116.242 1413.83 Q119.32 1418.41 119.32 1427.16 Q119.32 1435.89 116.242 1440.5 Q113.186 1445.08 107.376 1445.08 Q101.566 1445.08 98.487 1440.5 Q95.4315 1435.89 95.4315 1427.16 Q95.4315 1418.41 98.487 1413.83 Q101.566 1409.22 107.376 1409.22 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M127.584 1409.85 L145.94 1409.85 L145.94 1413.78 L131.866 1413.78 L131.866 1422.26 Q132.885 1421.91 133.904 1421.75 Q134.922 1421.56 135.941 1421.56 Q141.728 1421.56 145.107 1424.73 Q148.487 1427.91 148.487 1433.32 Q148.487 1438.9 145.015 1442 Q141.542 1445.08 135.223 1445.08 Q133.047 1445.08 130.779 1444.71 Q128.533 1444.34 126.126 1443.6 L126.126 1438.9 Q128.209 1440.03 130.431 1440.59 Q132.654 1441.15 135.13 1441.15 Q139.135 1441.15 141.473 1439.04 Q143.811 1436.93 143.811 1433.32 Q143.811 1429.71 141.473 1427.6 Q139.135 1425.5 135.13 1425.5 Q133.255 1425.5 131.38 1425.91 Q129.529 1426.33 127.584 1427.21 L127.584 1409.85 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M55.1771 1116.42 L71.4965 1116.42 L71.4965 1120.35 L49.5521 1120.35 L49.5521 1116.42 Q52.2141 1113.67 56.7975 1109.04 Q61.4039 1104.38 62.5845 1103.04 Q64.8298 1100.52 65.7094 1098.78 Q66.6122 1097.02 66.6122 1095.33 Q66.6122 1092.58 64.6678 1090.84 Q62.7465 1089.11 59.6447 1089.11 Q57.4456 1089.11 54.9919 1089.87 Q52.5614 1090.63 49.7836 1092.18 L49.7836 1087.46 Q52.6077 1086.33 55.0614 1085.75 Q57.515 1085.17 59.5521 1085.17 Q64.9224 1085.17 68.1168 1087.86 Q71.3113 1090.54 71.3113 1095.03 Q71.3113 1097.16 70.5011 1099.08 Q69.7141 1100.98 67.6076 1103.57 Q67.0289 1104.24 63.927 1107.46 Q60.8252 1110.66 55.1771 1116.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M81.3112 1114.48 L86.1954 1114.48 L86.1954 1120.35 L81.3112 1120.35 L81.3112 1114.48 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M97.1908 1116.42 L104.83 1116.42 L104.83 1090.05 L96.5195 1091.72 L96.5195 1087.46 L104.783 1085.79 L109.459 1085.79 L109.459 1116.42 L117.098 1116.42 L117.098 1120.35 L97.1908 1120.35 L97.1908 1116.42 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M136.542 1088.87 Q132.931 1088.87 131.103 1092.44 Q129.297 1095.98 129.297 1103.11 Q129.297 1110.22 131.103 1113.78 Q132.931 1117.32 136.542 1117.32 Q140.177 1117.32 141.982 1113.78 Q143.811 1110.22 143.811 1103.11 Q143.811 1095.98 141.982 1092.44 Q140.177 1088.87 136.542 1088.87 M136.542 1085.17 Q142.353 1085.17 145.408 1089.78 Q148.487 1094.36 148.487 1103.11 Q148.487 1111.84 145.408 1116.44 Q142.353 1121.03 136.542 1121.03 Q130.732 1121.03 127.654 1116.44 Q124.598 1111.84 124.598 1103.11 Q124.598 1094.36 127.654 1089.78 Q130.732 1085.17 136.542 1085.17 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M56.1725 792.365 L72.4918 792.365 L72.4918 796.3 L50.5475 796.3 L50.5475 792.365 Q53.2095 789.61 57.7928 784.981 Q62.3993 780.328 63.5798 778.985 Q65.8252 776.462 66.7048 774.726 Q67.6076 772.967 67.6076 771.277 Q67.6076 768.523 65.6632 766.786 Q63.7419 765.05 60.64 765.05 Q58.441 765.05 55.9873 765.814 Q53.5567 766.578 50.779 768.129 L50.779 763.407 Q53.603 762.273 56.0567 761.694 Q58.5104 761.115 60.5474 761.115 Q65.9178 761.115 69.1122 763.8 Q72.3066 766.486 72.3066 770.976 Q72.3066 773.106 71.4965 775.027 Q70.7094 776.925 68.6029 779.518 Q68.0242 780.189 64.9224 783.407 Q61.8206 786.601 56.1725 792.365 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M82.3066 790.421 L87.1908 790.421 L87.1908 796.3 L82.3066 796.3 L82.3066 790.421 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M98.1861 792.365 L105.825 792.365 L105.825 765.999 L97.5148 767.666 L97.5148 763.407 L105.779 761.74 L110.455 761.74 L110.455 792.365 L118.093 792.365 L118.093 796.3 L98.1861 796.3 L98.1861 792.365 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M127.584 761.74 L145.94 761.74 L145.94 765.675 L131.866 765.675 L131.866 774.148 Q132.885 773.8 133.904 773.638 Q134.922 773.453 135.941 773.453 Q141.728 773.453 145.107 776.624 Q148.487 779.796 148.487 785.212 Q148.487 790.791 145.015 793.893 Q141.542 796.971 135.223 796.971 Q133.047 796.971 130.779 796.601 Q128.533 796.231 126.126 795.49 L126.126 790.791 Q128.209 791.925 130.431 792.481 Q132.654 793.036 135.13 793.036 Q139.135 793.036 141.473 790.93 Q143.811 788.823 143.811 785.212 Q143.811 781.601 141.473 779.495 Q139.135 777.388 135.13 777.388 Q133.255 777.388 131.38 777.805 Q129.529 778.222 127.584 779.101 L127.584 761.74 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M55.1771 468.31 L71.4965 468.31 L71.4965 472.245 L49.5521 472.245 L49.5521 468.31 Q52.2141 465.556 56.7975 460.926 Q61.4039 456.273 62.5845 454.931 Q64.8298 452.408 65.7094 450.671 Q66.6122 448.912 66.6122 447.222 Q66.6122 444.468 64.6678 442.732 Q62.7465 440.996 59.6447 440.996 Q57.4456 440.996 54.9919 441.76 Q52.5614 442.523 49.7836 444.074 L49.7836 439.352 Q52.6077 438.218 55.0614 437.639 Q57.515 437.06 59.5521 437.06 Q64.9224 437.06 68.1168 439.746 Q71.3113 442.431 71.3113 446.922 Q71.3113 449.051 70.5011 450.972 Q69.7141 452.871 67.6076 455.463 Q67.0289 456.134 63.927 459.352 Q60.8252 462.546 55.1771 468.31 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M81.3112 466.366 L86.1954 466.366 L86.1954 472.245 L81.3112 472.245 L81.3112 466.366 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M100.408 468.31 L116.728 468.31 L116.728 472.245 L94.7834 472.245 L94.7834 468.31 Q97.4454 465.556 102.029 460.926 Q106.635 456.273 107.816 454.931 Q110.061 452.408 110.941 450.671 Q111.843 448.912 111.843 447.222 Q111.843 444.468 109.899 442.732 Q107.978 440.996 104.876 440.996 Q102.677 440.996 100.223 441.76 Q97.7926 442.523 95.0148 444.074 L95.0148 439.352 Q97.8389 438.218 100.293 437.639 Q102.746 437.06 104.783 437.06 Q110.154 437.06 113.348 439.746 Q116.543 442.431 116.543 446.922 Q116.543 449.051 115.732 450.972 Q114.945 452.871 112.839 455.463 Q112.26 456.134 109.158 459.352 Q106.056 462.546 100.408 468.31 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M136.542 440.764 Q132.931 440.764 131.103 444.329 Q129.297 447.871 129.297 455 Q129.297 462.107 131.103 465.671 Q132.931 469.213 136.542 469.213 Q140.177 469.213 141.982 465.671 Q143.811 462.107 143.811 455 Q143.811 447.871 141.982 444.329 Q140.177 440.764 136.542 440.764 M136.542 437.06 Q142.353 437.06 145.408 441.667 Q148.487 446.25 148.487 455 Q148.487 463.727 145.408 468.333 Q142.353 472.917 136.542 472.917 Q130.732 472.917 127.654 468.333 Q124.598 463.727 124.598 455 Q124.598 446.25 127.654 441.667 Q130.732 437.06 136.542 437.06 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M56.1725 144.256 L72.4918 144.256 L72.4918 148.191 L50.5475 148.191 L50.5475 144.256 Q53.2095 141.501 57.7928 136.871 Q62.3993 132.219 63.5798 130.876 Q65.8252 128.353 66.7048 126.617 Q67.6076 124.858 67.6076 123.168 Q67.6076 120.413 65.6632 118.677 Q63.7419 116.941 60.64 116.941 Q58.441 116.941 55.9873 117.705 Q53.5567 118.469 50.779 120.02 L50.779 115.297 Q53.603 114.163 56.0567 113.584 Q58.5104 113.006 60.5474 113.006 Q65.9178 113.006 69.1122 115.691 Q72.3066 118.376 72.3066 122.867 Q72.3066 124.996 71.4965 126.918 Q70.7094 128.816 68.6029 131.408 Q68.0242 132.08 64.9224 135.297 Q61.8206 138.492 56.1725 144.256 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M82.3066 142.311 L87.1908 142.311 L87.1908 148.191 L82.3066 148.191 L82.3066 142.311 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M101.404 144.256 L117.723 144.256 L117.723 148.191 L95.7787 148.191 L95.7787 144.256 Q98.4408 141.501 103.024 136.871 Q107.631 132.219 108.811 130.876 Q111.056 128.353 111.936 126.617 Q112.839 124.858 112.839 123.168 Q112.839 120.413 110.894 118.677 Q108.973 116.941 105.871 116.941 Q103.672 116.941 101.219 117.705 Q98.788 118.469 96.0102 120.02 L96.0102 115.297 Q98.8343 114.163 101.288 113.584 Q103.742 113.006 105.779 113.006 Q111.149 113.006 114.343 115.691 Q117.538 118.376 117.538 122.867 Q117.538 124.996 116.728 126.918 Q115.941 128.816 113.834 131.408 Q113.255 132.08 110.154 135.297 Q107.052 138.492 101.404 144.256 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M127.584 113.631 L145.94 113.631 L145.94 117.566 L131.866 117.566 L131.866 126.038 Q132.885 125.691 133.904 125.529 Q134.922 125.344 135.941 125.344 Q141.728 125.344 145.107 128.515 Q148.487 131.686 148.487 137.103 Q148.487 142.681 145.015 145.783 Q141.542 148.862 135.223 148.862 Q133.047 148.862 130.779 148.492 Q128.533 148.121 126.126 147.381 L126.126 142.681 Q128.209 143.816 130.431 144.371 Q132.654 144.927 135.13 144.927 Q139.135 144.927 141.473 142.82 Q143.811 140.714 143.811 137.103 Q143.811 133.492 141.473 131.385 Q139.135 129.279 135.13 129.279 Q133.255 129.279 131.38 129.695 Q129.529 130.112 127.584 130.992 L127.584 113.631 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip082)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="258.202,96.8724 261.967,107.847 265.732,118.783 269.497,129.68 273.261,140.539 308.074,239.117 342.887,334.417 377.7,426.459 412.512,515.266 433.433,567.087 454.354,617.751 475.275,667.261 496.196,715.623 531.573,794.798 566.95,870.718 605.379,949.52 643.808,1024.52 679.237,1090.32 714.665,1152.92 752.648,1216.51 790.631,1276.45 812.634,1309.52 834.638,1341.37 856.641,1372.02 878.644,1401.46 917.753,1450.8 956.861,1496.36 991.155,1533.2 1025.45,1567.15 1062.84,1600.86 1100.23,1631.15 1137.84,1658.18 1175.45,1681.74 1217.04,1703.79 1258.62,1721.64 1298.19,1734.72 1337.76,1744 1378.9,1749.62 1420.04,1751.15 1454.67,1749.26 1489.3,1744.46 1531.58,1734.66 1573.87,1720.52 1612.6,1703.76 1651.33,1683.35 1687.1,1661.25 1722.88,1636.04 1759.11,1607.31 1795.35,1575.36 1835.96,1535.72 1876.57,1492.03 1913.37,1448.91 1950.17,1402.44 1971.24,1374.32 1992.3,1345.09 2013.37,1314.75 2034.44,1283.31 2073.45,1222.13 2112.46,1157.11 2150.92,1089.24 2189.38,1017.6 2226.72,944.428 2264.07,867.662 2302.35,785.222 2340.63,698.967 2361.6,650.09 2382.57,600.057 2403.54,548.864 2424.51,496.507 2454.97,418.368 2485.44,337.749 2515.9,254.637 2546.36,169.017 2552.61,151.14 2558.86,133.157 2565.11,115.068 2571.36,96.8724 "></polyline>
<path clip-path="url(#clip080)" d="M2261.4 1742.33 L2559.02 1742.33 L2559.02 1638.65 L2261.4 1638.65  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip080)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2261.4,1742.33 2559.02,1742.33 2559.02,1638.65 2261.4,1638.65 2261.4,1742.33 "></polyline>
<polyline clip-path="url(#clip080)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2288.64,1690.49 2452.11,1690.49 "></polyline>
<path clip-path="url(#clip080)" d="M2493.19 1710.18 Q2491.39 1714.81 2489.67 1716.22 Q2487.96 1717.63 2485.09 1717.63 L2481.69 1717.63 L2481.69 1714.06 L2484.19 1714.06 Q2485.95 1714.06 2486.92 1713.23 Q2487.89 1712.4 2489.07 1709.3 L2489.84 1707.35 L2479.35 1681.84 L2483.86 1681.84 L2491.97 1702.12 L2500.07 1681.84 L2504.58 1681.84 L2493.19 1710.18 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip080)" d="M2511.87 1703.83 L2519.51 1703.83 L2519.51 1677.47 L2511.2 1679.13 L2511.2 1674.87 L2519.47 1673.21 L2524.14 1673.21 L2524.14 1703.83 L2531.78 1703.83 L2531.78 1707.77 L2511.87 1707.77 L2511.87 1703.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
<p>How long is the chain? Looking at the graph we can guess an answer is between <span class="math inline">\(2\)</span> and <span class="math inline">\(2.5\)</span>, say, but it isn’t much work to get the answer:</p>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quadgk</span>(x <span class="op">-&gt;</span> <span class="fu">sqrt</span>(<span class="fl">1</span> <span class="op">+</span> f<span class="op">'</span>(x)<span class="op">^</span><span class="fl">2</span>), <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>(2.0843812219749895, 0.0)</code></pre>
</div>
</div>
</section>
<section id="practice-5" class="level3" data-number="10.7.2">
<h3 data-number="10.7.2" class="anchored" data-anchor-id="practice-5"><span class="header-section-number">10.7.2</span> Practice</h3>
<section id="question-18" class="level4">
<h4 class="anchored" data-anchor-id="question-18">Question</h4>
<p>The sag in the chain is adjusted through the parameter <span class="math inline">\(a\)</span> – chains with larger <span class="math inline">\(a\)</span> have less sag.</p>
<p>Suppose your chain has parameter <code>a=3</code> what is the length? (Use <code>quadgk</code>)</p>
<div class="cell" data-execution_count="61">
<div class="cell-output cell-output-display" data-execution_count="61">
<script>
var ID = "Q1nmktb8"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="Q1nmktb8" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_Q1nmktb8" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="Q1nmktb8" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="Q1nmktb8_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_Q1nmktb8').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_Q1nmktb8')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("Q1nmktb8").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 2.037243343536901) <= 0.001);
  var msgBox = document.getElementById('Q1nmktb8_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_Q1nmktb8")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_Q1nmktb8")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-in-the-artist-studio" class="level4">
<h4 class="anchored" data-anchor-id="question-in-the-artist-studio">Question: in the artist studio</h4>
<p>This picture of Jasper Johns <a href="http://www.artic.edu/aic/collections/artwork/184095">Near the Lagoon</a> was taken at The Art Institute Chicago.</p>
<p><a href="figures/integration/johns-catenary.jpg">Jasper Johns</a></p>
<p>The museum notes have</p>
<blockquote class="blockquote">
<p>For his Catenary series (1997–2003), of which Near the Lagoon is the largest and last work, Johns formed catenaries—a term used to describe the curve assumed by a cord suspended freely from two points—by tacking ordinary household string to the canvas or its supports.</p>
</blockquote>
<p>This particular catenary has a certain length. The basic dimensions are 78in wide and 118in drop. If our shifted function is</p>
<p><span class="math display">\[
f(x; a, b) = a \cosh(x/a) - b
\]</span></p>
<p>Then we have <span class="math inline">\(f(0) = -118\)</span> and <span class="math inline">\(f(78/2) = 0\)</span> using the origin midway between the two tops of the curve. Solving the first gives</p>
<p><span class="math display">\[
-118 = a - b \text{ or } b = a + 118.
\]</span></p>
<p>The second gives <span class="math inline">\(a \cdot \cosh(78/(2a)) - (a + 118) = 0\)</span>. This can be solved numerically for a:</p>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">catenary</span>(x; a<span class="op">=</span><span class="fl">1</span>, b<span class="op">=</span><span class="fl">0</span>) <span class="op">=</span> <span class="fu">a*cosh</span>(x<span class="op">/</span>a) <span class="op">-</span> b</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="fu">newton</span>(a <span class="op">-&gt;</span> <span class="fu">catenary</span>(<span class="fl">78</span><span class="op">/</span><span class="fl">2</span>, a<span class="op">=</span>a, b<span class="op">=</span><span class="fl">118</span> <span class="op">+</span> a), <span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>12.994268574805396</code></pre>
</div>
</div>
<p>Rounding, we take <span class="math inline">\(a=13\)</span>. With these parameters (<span class="math inline">\(a=13\)</span>, <span class="math inline">\(b = 131\)</span>), compute the length of John’s catenary.</p>
<div class="cell" data-execution_count="63">
<div class="cell-output cell-output-display" data-execution_count="63">
<script>
var ID = "T1jvyqQn"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="T1jvyqQn" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_T1jvyqQn" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="T1jvyqQn" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="T1jvyqQn_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_T1jvyqQn').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_T1jvyqQn')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("T1jvyqQn").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 260.4647481126575) <= 1);
  var msgBox = document.getElementById('T1jvyqQn_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_T1jvyqQn")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_T1jvyqQn")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
</section>
<section id="question-bridges-are-parabolas" class="level4">
<h4 class="anchored" data-anchor-id="question-bridges-are-parabolas">Question: bridges are parabolas</h4>
<p>Suspension bridges, like the Verrazano bridge, have different loading than a cable and hence a different shape. A parabola is the shape the cable takes under uniform loading.</p>
<p>The Verrazano-Narrows <a href="http://observer.com/2012/09/staten-island/s-i-8/">bridge</a> has a span of 1298m. Suppose the drop of the main cables is 147 meters over this span. Then the cable itself can be modeled as a parabola with</p>
<ul>
<li><span class="math inline">\(x\)</span>-intercepts <span class="math inline">\(a = 1298/2\)</span> and <span class="math inline">\(-a\)</span> and</li>
<li>vertex <span class="math inline">\((0,b)\)</span> with <span class="math inline">\(b=-147\)</span>.</li>
</ul>
<p>The parabola that fits these three points is</p>
<p><span class="math display">\[
y = \frac{-b}{a^2}(x^2 - a^2)
\]</span></p>
<p>Find the arc length of the cable in meters.</p>
<div class="cell" data-execution_count="64">
<div class="cell-output cell-output-display" data-execution_count="64">
<script>
var ID = "qRc70jbH"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="qRc70jbH" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_qRc70jbH" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="qRc70jbH" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="qRc70jbH_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_qRc70jbH').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_qRc70jbH')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("qRc70jbH").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 1341.1191077638794) <= 0.001);
  var msgBox = document.getElementById('qRc70jbH_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_qRc70jbH")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_qRc70jbH")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
<p>In the picture of the Verrazano-Narrows <a href="http://observer.com/2012/09/staten-island/s-i-8/">bridge</a>, would the shape during construction be a parabola or a catenary?</p>
<div class="cell" data-execution_count="65">
<div class="cell-output cell-output-display" data-execution_count="65">
<script>
var ID = "hbZJVHIr"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="hbZJVHIr" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_hbZJVHIr" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label" for="radio_hbZJVHIr_1">
      <input class="form-check-input" type="radio" name="radio_hbZJVHIr" id="radio_hbZJVHIr_1" value="1">
      
      <span class="label-body px-1">
        A catenary, basically, as in the picture there is basically no load on the cables.
      </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label" for="radio_hbZJVHIr_2">
      <input class="form-check-input" type="radio" name="radio_hbZJVHIr" id="radio_hbZJVHIr_2" value="2">
      
      <span class="label-body px-1">
        A parabola, as just mentioned
      </span>
    </label>
</div>
</fieldset>

    
        </div>
      </div>
      <div id="hbZJVHIr_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_hbZJVHIr').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_hbZJVHIr')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_hbZJVHIr"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 1;
    var msgBox = document.getElementById('hbZJVHIr_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_hbZJVHIr")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_hbZJVHIr")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div>
</section>
<section id="question-the-tractrix" class="level4">
<h4 class="anchored" data-anchor-id="question-the-tractrix">Question: the tractrix</h4>
<p>A boat sits at the point <span class="math inline">\((a, 0)\)</span> and a man holds a rope taut attached to the boat at the origin <span class="math inline">\((0,0)\)</span>. The man walks on the <span class="math inline">\(y\)</span> axis. The position <span class="math inline">\(y\)</span> depends then on the position <span class="math inline">\(x\)</span> of the boat, and if the rope is taut, the position satisfies:</p>
<p><span class="math display">\[
y = a \ln\frac{a + \sqrt{a^2 - x^2}}{x} - \sqrt{a^2 - x^2}
\]</span></p>
<p>This can be entered into <code>julia</code> as:</p>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">g</span>(x, a) <span class="op">=</span> a <span class="op">*</span> <span class="fu">log</span>((a <span class="op">+</span> <span class="fu">sqrt</span>(a<span class="op">^</span><span class="fl">2</span> <span class="op">-</span> x<span class="op">^</span><span class="fl">2</span>))<span class="op">/</span>x) <span class="op">-</span> <span class="fu">sqrt</span>(a<span class="op">^</span><span class="fl">2</span> <span class="op">-</span> x<span class="op">^</span><span class="fl">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>g (generic function with 1 method)</code></pre>
</div>
</div>
<p>Let <span class="math inline">\(a=12\)</span>, <span class="math inline">\(f(x) = g(x, a)\)</span>. Compute the length the bow of the boat has traveled between <span class="math inline">\(x=1\)</span> and <span class="math inline">\(x=a\)</span> using <code>quadgk</code>.</p>
<div class="cell" data-execution_count="67">
<div class="cell-output cell-output-display" data-execution_count="67">
<script>
var ID = "QWIn0b3z"
</script>
<form class="mx-2 my-3 mw-100" name="WeaveQuestion" data-id="QWIn0b3z" data-controltype="">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_QWIn0b3z" correct="-1" attempts="0">
        <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="QWIn0b3z" type="number" class="form-control" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

    
        </div>
      </div>
      <div id="QWIn0b3z_message" style="padding-bottom: 15px"></div>
    </div>
  </div>
</form>
<script>
document.getElementById('controls_QWIn0b3z').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_QWIn0b3z')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("QWIn0b3z").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 29.818879797456006) <= 0.001);
  var msgBox = document.getElementById('QWIn0b3z_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'><span> 👍&nbsp; Correct </span></div>";
    var explanation = document.getElementById("explanation_QWIn0b3z")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 1}});
  this.dispatchEvent(correct_answer);
  //typeof correct_answer   != "undefined" && this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'><span>👎&nbsp; Incorrect </span></div>";
    var explanation = document.getElementById("explanation_QWIn0b3z")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer", {bubbles:true, detail:{correct: 0}});
  this.dispatchEvent(incorrect_answer);
  //typeof incorrect_answer != "undefined" && this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div>
<p>(The most elementary description of this curve is in terms of the relationship <span class="math inline">\(dy/dx = -\sqrt{a^2-x^2}/x\)</span> which could be used in place of <code>f'</code> in your work.)</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
More on the tractrix
</div>
</div>
<div class="callout-body-container callout-body">
<p>Watch this <a href="https://simonsfoundation.org/multimedia/mathematical-impressions-bicycle-tracks/%22%3E%22bicycle%20tracks">video</a> to see an example of how the tractrix can be found in an everyday observation. Also <a href="http://calteches.library.caltech.edu/4007/1/Calculus.pdf">here</a>.</p>
</div>
</div>
</section>
</section>
</section>
<section id="gauss-quadrature-using-weights" class="level2" data-number="10.8">
<h2 data-number="10.8" class="anchored" data-anchor-id="gauss-quadrature-using-weights"><span class="header-section-number">10.8</span> Gauss quadrature, Using weights</h2>
<p>What components go into the <code>quadgk</code> function? This section covers some of the background.</p>
<p>The trapezoid rule can be rearranged to become:</p>
<p><span class="math display">\[
\delta f(x_0) + 2\delta f(x_2) + 2 \delta f(x_3) + \cdots + 2 \delta f(x_{n}) + \delta f(x_{n})
\]</span></p>
<p>where <span class="math inline">\(\delta = (b-a)/n\)</span>.</p>
<p>Whereas for even <span class="math inline">\(n\)</span>, Simpson’s rule can be written with:</p>
<p><span class="math display">\[
\delta f(x_0) + 4\delta f(x_1) + 2 \delta f(x_2) + \cdots +  4 \delta f(x_{n-2}) + 2 \delta f(x_{n-1}) + \delta f(x_{n})
\]</span></p>
<p>with <span class="math inline">\(\delta = (b-a)/n \cdot (1/6)\)</span>.</p>
<p>These both have the general form of</p>
<p><span class="math display">\[
\sum_k w_k \cdot f(x_k)
\]</span></p>
<p>where <span class="math inline">\(w_k\)</span> are weights and the <span class="math inline">\(x_k\)</span> some choice of points (nodes) – not necessarily evenly spaced, though that is so in the examples we’ve seen. So, an alternative way to do the trapezoid formula in <code>julia</code> for <span class="math inline">\(n=4\)</span> might be:</p>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>a, b, n <span class="op">=</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">4</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>delta <span class="op">=</span> (b<span class="op">-</span>a)<span class="op">/</span>n</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>wts <span class="op">=</span> [<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">1</span>] <span class="op">*</span> delta <span class="co">## delta * [1, repeat([2],n-1), 1]'</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>xs <span class="op">=</span> a <span class="op">.+</span> (<span class="fl">0</span><span class="op">:</span>n) <span class="op">*</span> delta</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(w <span class="op">*</span> <span class="fu">f</span>(x) <span class="cf">for</span> (w,x) <span class="kw">in</span> <span class="fu">zip</span>(wts, xs))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>0.6875</code></pre>
</div>
</div>
<p>The compact code of the last line to compute the approximate integral shows there are three important things in this form of the integral: the weights, the <em>nodes</em> or <span class="math inline">\(x\)</span> values, and the function. The use of equally spaced nodes has been used by us so far, but it need not be the case. If fact Gauss showed he could get similar answers faster if it wasn’t the case.</p>
<p>The Gauss nodes and weights are computable (http://en.wikipedia.org/wiki/Gaussian_quadrature). The main tools are the so-called Legendre polynomials, which can be defined recursively with Bonnet’s formula:</p>
<p><span class="math display">\[
P_0(x) = 1; P_1(x) = x; \quad  n P_{n}(x)  = (2(n-1)+1) x P_{n-1}(x) -(n-1) P_{n-2}(x).
\]</span></p>
<p>Using <code>julia</code>’s <code>Polynomials</code> package this can be implemented almost verbatim:</p>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Polynomials</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Polynomials</span>: Polynomial</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">lgp</span>(n<span class="op">::</span><span class="dt">Integer</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="fl">0</span> <span class="cf">return</span> <span class="fu">Polynomial</span>([<span class="fl">1</span>]) <span class="cf">end</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="fl">1</span> <span class="cf">return</span> <span class="fu">Polynomial</span>([<span class="fl">0</span>, <span class="fl">1</span>]) <span class="cf">end</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    (<span class="fl">2</span><span class="fu">*</span>(n<span class="op">-</span><span class="fl">1</span>) <span class="op">+</span> <span class="fl">1</span>) <span class="op">/</span> n <span class="op">*</span> <span class="fu">lgp</span>(<span class="fl">1</span>) <span class="op">*</span> <span class="fu">lgp</span>(n<span class="op">-</span><span class="fl">1</span>) <span class="op">-</span> (n<span class="op">-</span><span class="fl">1</span>)<span class="op">/</span>n <span class="op">*</span> <span class="fu">lgp</span>(n<span class="op">-</span><span class="fl">2</span>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>lgp (generic function with 1 method)</code></pre>
</div>
</div>
<p>This is used as,</p>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>p4 <span class="op">=</span> <span class="fu">lgp</span>(<span class="fl">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
0.375 - 3.75∙x<sup>2</sup> + 4.375∙x<sup>4</sup>
</div>
</div>
<p>The term <em>recursion</em> is applied to a function when it makes a reference to itself during a computation. With this function, don’t try it with values much bigger than <span class="math inline">\(20\)</span>, as the recursion can take a long time.</p>
<p>The nodes are the roots of the right polynomial. Here we have the values for <code>p4</code></p>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>xs <span class="op">=</span> Polynomials.<span class="fu">roots</span>(p4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>4-element Vector{Float64}:
 -0.8611363115940536
 -0.33998104358485653
  0.3399810435848563
  0.8611363115940531</code></pre>
</div>
</div>
<p>(The Konrod part of <code>quadgk</code> changes the nodes so they can be reused during the refinement.)</p>
<p>Finally, the weights involve the derivative of <span class="math inline">\(P_n\)</span> through:</p>
<p><span class="math display">\[
w_i = \frac{2}{(1 - x_i^2) \cdot(P^{'}_n(x_i)/P_n(1))^2}
\]</span></p>
<p>These can be done simply with:</p>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">weights</span>(x) <span class="op">=</span> <span class="fl">2</span> <span class="op">/</span> ((<span class="fl">1</span> <span class="op">-</span> x<span class="op">^</span><span class="fl">2</span>) <span class="op">*</span> (Polynomials.<span class="fu">derivative</span>(p4)(x)<span class="op">/</span><span class="fu">p4</span>(<span class="fl">1</span>))<span class="op">^</span><span class="fl">2</span> )</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>ws <span class="op">=</span> [<span class="fu">weights</span>(xi) for xi <span class="kw">in</span> xs]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>4-element Vector{Float64}:
 0.3478548451374517
 0.6521451548625461
 0.6521451548625463
 0.3478548451374526</code></pre>
</div>
</div>
<p>From here <code>gauss_quadrature</code> will do the integration of <code>f</code> over the interval <span class="math inline">\([-1,1]\)</span>, though we can do it ourself quickly enough. Here we compute the integral of <span class="math inline">\(\cos(\pi/2 x)\)</span> over <span class="math inline">\([-1,1]\)</span> (you can check this is very close to the answer <span class="math inline">\(4/\pi\)</span> even with just 4 nodes):</p>
<pre><code>f(x) = cos(pi/2*x)
sum(w * f(x) for (w,x) in zip(ws, xs))</code></pre>
<section id="adaptive-integration" class="level3" data-number="10.8.1">
<h3 data-number="10.8.1" class="anchored" data-anchor-id="adaptive-integration"><span class="header-section-number">10.8.1</span> Adaptive integration</h3>
<p>Next, we a have a brief discussion about an alternative means to compute integrals. The following function <code>adapt</code> implements a basic <em>adaptive quadrature</em> method for integration. The basic idea is that for a subinterval <span class="math inline">\([a,b]\)</span> if the area of the trapezoid is not close to the area of Simpson’s parabolic estimate then the subinterval is split into two pieces <span class="math inline">\([a,c]\)</span> and <span class="math inline">\([c,b]\)</span> and the same question is asked. If the area is close the Simpson’s parabolic estimate is used to estimate the integral of <span class="math inline">\(f\)</span> over that subinterval.</p>
<p>Again, we see <em>recursion</em> when programming this algorithm. To avoid infinite loops during this, we use a limit below to keep track.</p>
<p>In general, the value of adaptive methods like this, is the function calls concentrate on areas where <span class="math inline">\(f\)</span> is not well approximated and where it is well approximated it just moves on. This approach works well for poorly behaved functions, as it has a more refined grid there.</p>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">adapt</span>(f, a, b, limit)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    h <span class="op">=</span> b<span class="op">-</span>a</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> a <span class="op">+</span> (b <span class="op">-</span> a)<span class="op">/</span><span class="fl">2</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    a1 <span class="op">=</span> (<span class="fu">f</span>(a) <span class="op">+</span> <span class="fu">f</span>(b)) <span class="op">*</span> h<span class="op">/</span><span class="fl">2</span>          <span class="co">## trapezoid</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    a2 <span class="op">=</span> (<span class="fu">f</span>(a) <span class="op">+</span> <span class="fl">4</span><span class="fu">f</span>(c) <span class="op">+</span> <span class="fu">f</span>(b)) <span class="op">*</span> h<span class="op">/</span><span class="fl">6</span>  <span class="co">## Simpson's parabola</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="fu">isapprox</span>(a1, a2)</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span>(a2)</span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> limit <span class="op">==</span> <span class="fl">0</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">println</span>(<span class="st">"limit reached for this interval [</span><span class="sc">$</span>a<span class="st">, </span><span class="sc">$</span>b<span class="st">]"</span>)</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(a2)</span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adapt</span>(f, a, c, limit <span class="op">-</span> <span class="fl">1</span>) <span class="op">+</span> <span class="fu">adapt</span>(f, c, b, limit<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>adapt (generic function with 1 method)</code></pre>
</div>
</div>
<p>Does it work? Let’s see it for the area of <span class="math inline">\(f(x) = x^2(1-x)^{10}\)</span> which is known to satisfy <span class="math inline">\(\beta(2+1, 10+1)\)</span></p>
<pre><code>out = adapt(x -&gt; x^2 * (1 -x)^10, 0, 1, 10)</code></pre>
<p>Not too far off (<code>1e-10</code>) from the known answer which is a beta function:</p>
<pre><code>out - beta(2 + 1, 10 + 1)</code></pre>
<p>(The use of <code>isapprox</code> above determines how accurate the values will be. This function uses two tolerances to test if the valus <code>x</code> and <code>y</code> are approximately the same. These could be changed easily enough so that more precise answers can be found.)</p>
<hr>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Environment of <code>Julia</code> when generated
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>Julia</code> version:</p>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="cn">VERSION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<pre><code>v"1.10.0"</code></pre>
</div>
</div>
<p>Packages and versions:</p>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Pkg</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Pkg</span>.<span class="fu">status</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Status `~/work/mth229.github.io/mth229.github.io/Project.toml`
  [7073ff75] IJulia v1.24.2
  [b964fa9f] LaTeXStrings v1.3.1
  [ebaf19f5] MTH229 v0.2.11
  [91a5bcdd] Plots v1.39.0
  [f27b6e38] Polynomials v4.0.6
  [438e738f] PyCall v1.96.4
  [612c44de] QuizQuestions v0.3.21
  [295af30f] Revise v3.5.12
  [f2b01f46] Roots v2.0.22
⌅ [24249f21] SymPy v1.2.1
  [56ddb016] Logging
Info Packages marked with ⌅ have new versions available but compatibility constraints restrict them from upgrading. To see why use `status --outdated`</code></pre>
</div>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./extrema.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Maximization and minimization with Julia</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./symbolic-math.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">using SymPy with MTH 232, at CSI</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script src="https://cdn.jsdelivr.net/gh/yasserelsaid/chatbot@v0.1.4/index.min.js" data-chatbotid="index-pdf-k527qtaap"></script>



</body></html>